/*! For license information please see main.45693b5ae2c622e8291a.js.LICENSE.txt */
(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{57731:function(e,t,r){"use strict";var n=r(67294),o=r(20745),i=r(93379),a=r.n(i),c=r(7795),l=r.n(c),u=r(90569),s=r.n(u),f=r(3565),p=r.n(f),d=r(19216),y=r.n(d),h=r(44589),b=r.n(h),m=r(51424),v={};v.styleTagTransform=b(),v.setAttributes=p(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=y(),a()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals,r(56831);var g=r(24350),j=r.n(g),x=r(39087),w={};w.styleTagTransform=b(),w.setAttributes=p(),w.insert=s().bind(null,"head"),w.domAPI=l(),w.insertStyleElement=y(),a()(x.Z,w),x.Z&&x.Z.locals&&x.Z.locals;var O=(0,n.createContext)({keycodes:[],behaviours:[],behaviors:{},behaviorBinds:[],glyphs:[]}),S=(0,n.createContext)({getSearchTargets:null}),k=(0,n.createContext)({settings:null,openSettingsDialog:null}),E=r(96486);function P(e){return e&&["1","on","yes","true"].includes(e.toString().toLowerCase())}var A="https://zmk-keymap-editor.fly.dev",I="MISSING_ENV_VAR".APP_BASE_URL,T=P("true"),C=P("false"),D=P("true");function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function N(){N=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==_(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function R(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){R(i,n,o,a,c,"next",e)}function c(e){R(i,n,o,a,c,"throw",e)}a(void 0)}))}}function M(){return G.apply(this,arguments)}function G(){return(G=L(N().mark((function e(){var t,n,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(216),r.e(130)]).then(r.t.bind(r,95130,23));case 2:return t=e.sent,n=t.behaviorSchemas,o=t.behaviorBindings,e.abrupt("return",{behaviors:n,bindings:o});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=L(N().mark((function e(){var t,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(779).then(r.t.bind(r,52779,23));case 2:return t=e.sent,n=t.keycodes,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=L(N().mark((function e(){var t,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(779).then(r.t.bind(r,52779,23));case 2:return t=e.sent,n=t.keycodeGlyphs,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return U.apply(this,arguments)}function U(){return(U=L(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(A,"/v2/local/keyboards"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return q.apply(this,arguments)}function q(){return(q=L(N().mark((function e(t){var r,n,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="v2/local/keyboards/".concat(encodeURIComponent(t)),n="".concat(A,"/").concat(r),e.next=4,fetch(n);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return V.apply(this,arguments)}function V(){return(V=L(N().mark((function e(t,r){var n,o,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="v2/local/keyboards/".concat(encodeURIComponent(t),"/keymap"),o="".concat(A,"/").concat(n),e.next=4,fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return i=e.sent,e.abrupt("return",i.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Q(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Q(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e){return(t=e,function(e){if(Array.isArray(e))return Y(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){return e.length-t.length}))[0].replace(/^KC_/,"");var t}console.log({apiBaseUrl:A,appBaseUrl:I,enableLocal:C});var X=/^(.+?)\((code)\)$/;function H(e){return e.reduce((function(e,t){var r,n=t.description,o=t.context,i=t.symbol,a=t.faIcon,c=t.names.filter((function(e){return!e.match(X)})),l=J(c),u=t.names.map((function(e){return e.match(X)})).filter((function(e){return!!e}))[0],s={name:l,aliases:c,description:n,context:o,faIcon:a,symbol:i||l,params:[]},f=W(c);try{for(f.s();!(r=f.n()).done;){var p=r.value;e.push(Object.assign({},s,{code:p,isModifier:!!u}))}}catch(e){f.e(e)}finally{f.f()}return u&&e.push(Object.assign({},s,{code:u[1],params:u[2].split(",")})),e}),[])}var $=r(45697),ee=r.n($),te=r(85893);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}var ne=["name","className","collection"];function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae={brands:"fab",default:"fa",solid:"fas",round:"far"};function ce(e){var t=e.name,r=e.className,n=e.collection,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ne),i=ae[n],a="fa-".concat(t);return(0,te.jsx)("span",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:[r,i,a].join(" ")},o))}ce.propTypes={name:ee().string.isRequired,className:ee().string,collection:ee().string},ce.defaultProps={collection:"default",className:""};var le=ce;function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}var se=["collection","icon","text","children","onClick"];function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ue(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ue(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){var t=e.collection,r=e.icon,n=e.text,o=e.children,i=e.onClick,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,se);return(0,te.jsxs)("button",pe(pe({onClick:i},a),{},{children:[(0,te.jsx)(le,{collection:t,name:r})," ",n||o]}))}var he=r(73935);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===be(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je={wrapper:{position:"absolute",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(104, 123, 162, 0.39)",zIndex:"50",display:"flex",justifyContent:"center",alignItems:"center"},centerOnly:{background:"transparent",pointerEvents:"none"},content:{display:"block",pointerEvents:"all"}};function xe(e){var t=e.onDismiss,r=e.centerOnly,o=void 0!==r&&r,i=e.children,a=(0,n.useRef)(),c=(0,n.useCallback)((function(e){t&&a.current&&e.target.contains(a.current)&&t()}),[a,t]),l=o?ve(ve({},je.wrapper),je.centerOnly):je.wrapper;return he.createPortal((0,te.jsx)("div",{onClick:c,style:l,children:(0,te.jsx)("div",{ref:a,style:je.content,children:i})}),document.getElementById("modal-root"))}xe.propTypes={onDismiss:ee().func};var we=xe,Oe=r(92127),Se={};Se.styleTagTransform=b(),Se.setAttributes=p(),Se.insert=s().bind(null,"head"),Se.domAPI=l(),Se.insertStyleElement=y(),a()(Oe.Z,Se);var ke=Oe.Z&&Oe.Z.locals?Oe.Z.locals:void 0;function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}var Pe=["children"];function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Pe);return(0,te.jsxs)("div",Ie(Ie({},r),{},{className:ke.spinner,children:[(0,te.jsx)("i",{className:"".concat(ke.icon," fa fa-spinner")}),t]}))}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==De(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===De(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Me(e){var t,r,o=e.load,i=e.delay,a=e.children,c=(t=(0,n.useState)({loaded:!1,delayed:!1,timeout:null}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Le(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],u=c[1];return(0,n.useEffect)((function(){if(clearTimeout(l.timeout),o){var e=setTimeout((function(){l.loaded||u(Ne(Ne({},l),{},{timeout:null,delayed:!0}))}),i);u({loaded:!1,delayed:!1,timeout:e}),o().then((function(){clearTimeout(e),u(Ne(Ne({},l),{},{timeout:null,loaded:!0}))}))}}),[o]),l.loaded?a:l.delayed?(0,te.jsx)(we,{children:(0,te.jsx)(Ce,{style:{color:"white"},children:(0,te.jsx)("p",{children:"Waiting for API..."})})}):null}Me.propTypes={load:ee().func.isRequired,inline:ee().bool,delay:ee().number},Me.defaultProps={inline:!1,delay:200};var Ge=Me,Be=r(63105),Ze=r.n(Be),Ke=r(27361),Ue=r.n(Ke),ze=r(41609),qe=r.n(ze),Fe=r(35161),Ve=r.n(Fe),We=["children"];function Qe(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ye(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Je=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,We).keymap,o=(0,n.useContext)(O),i=o.keycodes,a=o.behaviours,c=o.glyphs,l=(0,n.useContext)(k).settings,u=(0,n.useMemo)((function(){var e=window.navigator.platform.startsWith("Mac"),t=window.navigator.platform.startsWith("Win"),r=e?"mac":t&&"win";return function(e,t){return(0,E.compact)([e.basic,t.unicode&&e.unicode,"mac"===t.platform&&e.platforms.mac,"win"===t.platform&&e.platforms.win]).reduce((function(e,t){var r,n=W(t);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.names.filter((function(e){return!e.match(X)})),a=J(i);e[a]||(e[a]={}),e[a].symbol=e[a].symbol||o.symbol,e[a].faIcon=e[a].faIcon||o.faIcon}}catch(e){n.e(e)}finally{n.f()}return e}),{})}(c,{unicode:Ue()(l,"unicodeGlyphs",!0),platform:"auto"!==Ue()(l,"platformGlyphs","auto")?l.platformGlyphs:r})}),[c,l]),s=(0,n.useMemo)((function(){var e=[].concat(Qe(a),Qe((r.behaviors||[]).map((function(e){return{code:"&".concat(e.labels[0]),bind:"&".concat(e.labels[0]),name:e.name,description:'Custom behavior: "'.concat(e.properties.label.raw||e.name,'"'),params:e.params}}))),Qe(r.macros.map((function(e){return{code:"&".concat(e.identifier),name:e.identifier,description:"Custom macro",params:[]}}))));return e.indexed=j()(e,"code"),e.context={none:e.filter((function(e){return!e.context})),macros:Ze()(e,{context:"macros"})},e.byContext={none:j()(e.context.none,"code"),macros:j()(e.context.macros,"code")},e}),[a,r.behaviors,r.macros]),f=(0,n.useMemo)((function(){return qe()(r)?[]:r.layers.map((function(e,t){return{code:t,description:e.name||"Layer ".concat(t)}}))}),[r]),p=(0,n.useMemo)((function(){return{kc:i.indexed,code:i.indexed,mod:j()(Ze()(i,"isModifier"),"code"),behaviours:s.indexed,behavioursByContext:s.byContext,layer:j()(f,"code")}}),[i,s,f]),d=(0,n.useMemo)((function(){return{behaviour:s,layer:f,mod:Ze()(i,"isModifier"),code:i}}),[s,i,f]),y=(0,n.useMemo)((function(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";return e.enum?e.enum.map((function(e){return{code:e}})):e.raw?[]:"command"===e?Ue()(p.behavioursByContext,[r,t,"commands"],[]):(d[e]||console.error("cannot find target for",e),"behaviour"===e?d.behaviour.context[r]:d[e])}}),[d,p]),h=(0,n.useMemo)((function(){return[].concat(Qe(Ve()(i,"code")),Qe(Object.keys(r.defines||{})))}),[i,r.defines]);return(0,te.jsx)(S.Provider,{value:{getSearchTargets:y,mergedGlyphs:u,sources:p,identifiers:h},children:t})},Xe=r(56281),He={};He.styleTagTransform=b(),He.setAttributes=p(),He.insert=s().bind(null,"head"),He.domAPI=l(),He.insertStyleElement=y(),a()(Xe.Z,He);var $e=Xe.Z&&Xe.Z.locals?Xe.Z.locals:void 0;function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}var tt=["children","secondary","className"];function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ot(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===et(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e){var t=e.children,r=e.secondary,n=e.className,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,tt);return(0,te.jsx)("button",nt(nt({className:[n,$e.action,r&&$e.secondary].join(" ")},o),{},{children:t}))}it.defaultProps={className:""};var at=it,ct=r(87617),lt={};lt.styleTagTransform=b(),lt.setAttributes=p(),lt.insert=s().bind(null,"head"),lt.domAPI=l(),lt.insertStyleElement=y(),a()(ct.Z,lt);var ut=ct.Z&&ct.Z.locals?ct.Z.locals:void 0;function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}var ft=["href","children","external","showExternal"];function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===st(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ht(e){var t=e.href,r=e.children,n=e.external,o=e.showExternal,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ft),a=Object.assign({href:t},i,n&&{rel:"noreferrer",target:"_blank"});return(0,te.jsxs)("a",dt(dt({},a),{},{children:[r,n&&o&&(0,te.jsx)(le,{className:ut.icon,name:"arrow-up-right-from-square"})]}))}ht.propTypes={href:ee().string.isRequired,children:ee().oneOfType([ee().arrayOf(ee().node),ee().node]).isRequired,external:ee().bool.isRequired,showExternal:ee().bool},ht.defaultProps={external:!1,showExternal:!0};var bt=ht;function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xt(){var e=JSON.parse(localStorage.getItem("experimental-settings")||"{}");return{definitions:null,source:null,sourceOther:null,keyboard:null,_unmodifiedKeymap:null,saving:null,settingsVisible:null,commitDialogOpen:!1,theme:JSON.parse(localStorage.getItem("theme")),experimentalSettings:{unicodeGlyphs:(0,E.get)(e,"unicodeGlyphs",!0),platformGlyphs:(0,E.get)(e,"platformGlyphs","auto"),enableBehaviorEditing:(0,E.get)(e,"enableBehaviorEditing",!1)},latestBuild:null}}var wt=xt(),Ot=r(98913),St=r.n(Ot);function kt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pt=function(e,t){return[].concat(kt(e.slice(0,t)),kt(e.slice(t+1)))},At=function(e,t,r){return[].concat(kt(e.slice(0,t)),[r],kt(e.slice(t+1)))};function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){_t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==It(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===It(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nt="&trans",Rt=function(){return{value:arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,params:[]}};function Lt(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.type,o=e.layers;switch(n){case"CREATE_LAYER":return Dt(Dt({},e),{},{layers:[].concat((t=o,function(e){if(Array.isArray(e))return Tt(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{name:"Layer #".concat(o.length),bindings:St()(r.bindingCount,(function(){return Rt()}))}])});case"RENAME_LAYER":return Dt(Dt({},e),{},{layers:At(o,r.index,Dt(Dt({},o[r.index]),{},{name:r.name}))});case"DELETE_LAYER":return Dt(Dt({},e),{},{layers:Pt(o,r.index)});case"UPDATE_KEY_BINDING":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{bindings:At(o[r.layerIndex].bindings,r.bindIndex,r.binding)}))});case"UPDATE_SENSOR_BINDINGS":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{sensorBindings:At(o[r.layerIndex].sensorBindings||[],r.sensorIndex,r.bindings)}))});case"REBIND_TRANSPARENT_TO_KEY_PRESS":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return Dt(Dt({},e),"&trans"===e.value?{value:"&kp",params:[]}:{})}))}))});case"REBIND_TRANSPARENT_TO_NONE":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return Dt(Dt({},e),"&trans"===e.value?{value:"&none",params:[]}:{})}))}))});case"REBIND_NONE_TO_KEYPRESS":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return Dt(Dt({},e),"&none"===e.value?{value:"&kp",params:[]}:{})}))}))});case"REBIND_NONE_TO_TRANSPARENT":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){return Dt(Dt({},e),"&none"===e.value?{value:"&trans",params:[]}:{})}))}))});case"REBIND_EMPTY_KEYPRESS_TO_TRANSPARENT":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){var t;return Dt(Dt({},e),"&kp"!==e.value||null!==(t=e.params[0])&&void 0!==t&&t.value?{}:{value:"&trans",params:[]})}))}))});case"REBIND_EMPTY_KEYPRESS_TO_NONE":return Dt(Dt({},e),{},{layers:At(o,r.layerIndex,Dt(Dt({},o[r.layerIndex]),{},{bindings:o[r.layerIndex].bindings.map((function(e){var t;return Dt(Dt({},e),"&kp"!==e.value||null!==(t=e.params[0])&&void 0!==t&&t.value?{}:{value:"&none",params:[]})}))}))});default:throw new Error("unsupported action",n)}}function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){Zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ut(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zt(e,t){var r=t.type;switch(r){case"UPDATE_COMBO_BINDING":return[].concat(Kt(e.slice(0,t.comboIndex)),[Bt(Bt({},e[t.comboIndex]),{},{bindings:t.bindings})],Kt(e.slice(t.comboIndex+1)));case"UPDATE_COMBO_KEYPOSITIONS":return[].concat(Kt(e.slice(0,t.comboIndex)),[Bt(Bt({},e[t.comboIndex]),{},{keyPositions:t.keyPositions})],Kt(e.slice(t.comboIndex+1)));case"CREATE_COMBO":return[].concat(Kt(e),[{identifier:"new_combo",keyPositions:[],bindings:[{value:"&trans",params:[]}]}]);case"RENAME_COMBO":return[].concat(Kt(e.slice(0,t.index)),[Bt(Bt({},e[t.index]),{},{identifier:t.name})],Kt(e.slice(t.index+1)));case"DELETE_COMBO":return[].concat(Kt(e.slice(0,t.index)),Kt(e.slice(t.index+1)));case"CUSTOMIZE_COMBO":return[].concat(Kt(e.slice(0,t.index)),[Bt(Bt({},e[t.index]),t.config)],Kt(e.slice(t.index+1)));default:throw new Error("unexpected action ".concat(r))}}function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Wt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qt(e){return function(e){if(Array.isArray(e))return Yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jt(e,t){var r,n,o,i=t.type;switch(i){case"ADD_MACRO":return[].concat(Qt(e),[{identifier:"new_macro",label:"new_macro",bindings:[]}]);case"RENAME_MACRO":return At(e,t.index,Vt(Vt({},e[t.index]),{},{identifier:t.name}));case"DELETE_MACRO":return Pt(e,t.index);case"ADD_MACRO_CONTROL_BINDING":return At(e,t.macroIndex,Vt(Vt({},e[t.macroIndex]),{},{bindings:[].concat(Qt(e[t.macroIndex].bindings),[{value:"&macro_press",params:[]}])}));case"ADD_MACRO_KEY_BINDING":return At(e,t.macroIndex,Vt(Vt({},e[t.macroIndex]),{},{bindings:[].concat(Qt(e[t.macroIndex].bindings),[t.binding])}));case"UPDATE_MACRO_BINDING":return At(e,t.macroIndex,Vt(Vt({},e[t.macroIndex]),{},{bindings:At(e[t.macroIndex].bindings,t.bindIndex,t.binding)}));case"REORDER_MACRO_BINDING":return At(e,t.macroIndex,Vt(Vt({},e[t.macroIndex]),{},{bindings:(r=e[t.macroIndex].bindings,n=t.bindIndex,o=t.targetIndex,-1===o?[].concat(kt(r.filter((function(e,t){return t!==n}))),[r[n]]):r.reduce((function(e,t,i){return i===o&&e.push(r[n]),i!==n&&e.push(t),e}),[]))}));case"DELETE_MACRO_BINDING":return At(e,t.macroIndex,Vt(Vt({},e[t.macroIndex]),{},{bindings:Pt(e[t.macroIndex].bindings,t.bindIndex)}));case"CUSTOMIZE_MACRO_OPTIONS":return At(e,t.macroIndex,Vt(Vt({},e[t.macroIndex]),t.options));default:throw new Error('unexpected action "'.concat(i,'"'))}}function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){er(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function er(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e){return function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nr(e,t){var r=t.type;switch(r){case"ADD_BEHAVIOR":return[].concat(tr(e),[t.behavior||{name:"new-behavior",labels:["new-behavior"],propertiesRaw:{compatible:'"zmk,behavior-"',label:'"NEW_BEHAVIOR"'}}]);case"UPDATE_BEHAVIOR":return[].concat(tr(e.slice(0,t.behaviorIndex)),[$t($t({},e[t.behaviorIndex]),t.behavior)],tr(e.slice(t.behaviorIndex+1)));case"DELETE_BEHAVIOR":return Pt(e,t.behaviorIndex);default:throw new Error("unexpected action ".concat(r))}}function or(e){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(e)}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==or(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===or(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sr=(0,n.createContext)();function fr(e,t){var r=t.type,n=t.payload;switch(r){case"ROOT":return function(e,t){var r=t.type,n=e.keyboard;switch(r){case"INITIALIZE":return xt();case"DEFINITIONS_SET":return gt(gt({},e),{},{definitions:t.definitions});case"SELECT_KEYBOARD":var o=gt(gt({},t.keymap),{},{combos:t.keymap.combos||[],macros:t.keymap.macros||[]});return gt(gt({},e),{},{source:t.source,sourceOther:t.sourceOther,keyboard:gt(gt({},n),{},{layout:t.layout,keymap:o,sensors:t.sensors}),_unmodifiedKeymap:o});case"COMMIT_DIALOG_OPEN":return gt(gt({},e),{},{commitDialogOpen:!0});case"COMMIT_DIALOG_CLOSE":return gt(gt({},e),{},{commitDialogOpen:!1});case"GITHUB_BUILD_UPDATE":return gt(gt({},e),{},{latestBuild:t.build});case"KEYMAP_SAVE_START":return gt(gt({},e),{},{saving:!0});case"KEYMAP_SAVE_SUCCESS":return gt(gt({},e),{},{saving:!1,unsaved:!1,keyboard:gt(gt({},e.keyboard),{},{keymap:t.keymap||e.keyboard.keymap}),_unmodifiedKeymap:t.keymap||e.keyboard.keymap});case"SETTINGS_OPEN":return gt(gt({},e),{},{settingsVisible:!0});case"SETTINGS_CLOSE":return gt(gt({},e),{},{settingsVisible:!1});case"SETTINGS_UPDATE":return localStorage.setItem("experimental-settings",JSON.stringify(t.settings)),gt(gt({},e),{},{experimentalSettings:t.settings});case"CYCLE_THEME":var i=["light","dark","system"],a=i.indexOf(e.theme),c=i.at((a+1)%i.length);return localStorage.setItem("theme",'"'.concat(c,'"')),document.body.dataset.theme=c,gt(gt({},e),{},{theme:c});default:throw new Error("undefined action",r)}}(e,n);case"keyboard.keymap":return lr(lr({},e),{},{keyboard:lr(lr({},e.keyboard),{},{keymap:Lt(e.keyboard.keymap,n)})});case"keyboard.keymap.behaviors":return lr(lr({},e),{},{keyboard:lr(lr({},e.keyboard),{},{keymap:lr(lr({},e.keyboard.keymap),{},{behaviors:nr(e.keyboard.keymap.behaviors,n)})})});case"keyboard.keymap.combos":return lr(lr({},e),{},{keyboard:lr(lr({},e.keyboard),{},{keymap:lr(lr({},e.keyboard.keymap),{},{combos:zt(e.keyboard.keymap.combos,n)})})});case"keyboard.keymap.macros":return lr(lr({},e),{},{keyboard:lr(lr({},e.keyboard),{},{keymap:lr(lr({},e.keyboard.keymap),{},{macros:Jt(e.keyboard.keymap.macros,n)})})});default:throw new Error("unexpected action",r)}}function pr(e){var t=e.children,r=ir((0,n.useReducer)(fr,wt),2),o=r[0],i=r[1];return(0,te.jsx)(sr.Provider,{value:[o,i],children:t})}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ROOT",t=ir((0,n.useContext)(sr),2),r=t[0],o=t[1];return["ROOT"===e?r:Ue()(r,e),{ROOT:(0,n.useCallback)((function(e){return o({type:"ROOT",payload:e})}),[o]),"keyboard.keymap":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap",payload:e})}),[o]),"keyboard.keymap.behaviors":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap.behaviors",payload:e})}),[o]),"keyboard.keymap.combos":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap.combos",payload:e})}),[o]),"keyboard.keymap.macros":(0,n.useCallback)((function(e){return o({type:"keyboard.keymap.macros",payload:e})}),[o])}[e]]}var yr=r(49502),hr={};hr.styleTagTransform=b(),hr.setAttributes=p(),hr.insert=s().bind(null,"head"),hr.domAPI=l(),hr.insertStyleElement=y(),a()(yr.Z,hr);var br=yr.Z&&yr.Z.locals?yr.Z.locals:void 0;function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}var vr=["dismissText","onDismiss","children"];function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wr(e){var t=e.dismissText,r=void 0===t?"Ok":t,n=e.onDismiss,o=e.children,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,vr);return(0,te.jsxs)("div",jr(jr({className:br.dialog},i),{},{children:[o,r&&(0,te.jsx)("button",{className:br.button,onClick:n,children:r})]}))}var Or=r(34288),Sr={};Sr.styleTagTransform=b(),Sr.setAttributes=p(),Sr.insert=s().bind(null,"head"),Sr.domAPI=l(),Sr.insertStyleElement=y(),a()(Or.Z,Sr);var kr=Or.Z&&Or.Z.locals?Or.Z.locals:void 0;function Er(e){return function(e){if(Array.isArray(e))return Pr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ar=65,Ir=5;function Tr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{x:e.x*(Ar+Ir),y:e.y*(Ar+Ir),u:t.u*Ar+Ir*(t.u-1),h:t.h*Ar+Ir*(t.h-1),rx:(e.x-(r.x||e.x))*-(Ar+Ir),ry:(e.y-(r.y||e.y))*-(Ar+Ir),a:r.a||0}}function Cr(e,t,r){var n=Tr(e,t,r),o=n.x,i=n.y,a=n.u,c=n.h,l=n.a,u=n.rx,s=n.ry;return[{x:0,y:0},{x:a,y:0},{x:a,y:c},{x:0,y:c}].map((function(e){var t=e.x-u,r=e.y-s,n=Math.PI*l/180;return{x:u+t*Math.cos(n)-r*Math.sin(n),y:s+r*Math.cos(n)+t*Math.sin(n)}})).map((function(e){return{x:e.x+o,y:e.y+i}}))}function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Dr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.scale,n=void 0===r?1:r,o=t.overrides,i=void 0===o?{}:o,a=e.map((function(e){return function(e,t,r){var n=Cr(e,t,r),o=Ve()(n,"x"),i=Ve()(n,"y");return{min:{x:Math.min.apply(Math,Er(o)),y:Math.min.apply(Math,Er(i))},max:{x:Math.max.apply(Math,Er(o)),y:Math.max.apply(Math,Er(i))}}}({x:e.x,y:e.y},{u:e.u||e.w||1,h:e.h||1},{x:e.rx,y:e.ry,a:e.r})})).reduce((function(e,t){var r=e.x,n=e.y,o=t.max;return{x:Math.max(r,o.x),y:Math.max(n,o.y)}}),{x:0,y:0});return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){Nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:"".concat(a.x*n,"px"),height:"".concat(a.y*n,"px"),margin:"0 auto",padding:"0 40px 40px"},i)}var Lr=r(78718),Mr=r.n(Lr),Gr=r(87995),Br={};Br.styleTagTransform=b(),Br.setAttributes=p(),Br.insert=s().bind(null,"head"),Br.domAPI=l(),Br.insertStyleElement=y(),a()(Gr.Z,Br);var Zr=Gr.Z&&Gr.Z.locals?Gr.Z.locals:void 0;function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fr={x:ee().number.isRequired,y:ee().number.isRequired},Vr={a:ee().number,rx:ee().number,ry:ee().number},Wr={u:ee().number,h:ee().number},Qr=ee().shape(zr(zr(zr({},Fr),Vr),Wr)),Yr=ee().arrayOf(Qr);function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}var Xr=["keyLayout","children"];function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(r),!0).forEach((function(t){en(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function en(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Jr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tn=function(e){return Mr()(e,["x","y"])},rn=function(e){return{x:e.rx,y:e.ry,a:e.r}},nn=function(e){var t=e.w,r=void 0===t?1:t,n=e.u,o=void 0===n?r:n,i=e.h;return{u:o,h:void 0===i?1:i}};function on(e){var t=e.keyLayout,r=e.children,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Xr),o=tn(t),i=rn(t),a=nn(t),c=function(e,t,r){var n=Tr(e,t,r),o=n.x,i=n.y,a=n.u,c=n.h,l=n.a,u=n.rx,s=n.ry;return{top:"".concat(i,"px"),left:"".concat(o,"px"),width:"".concat(a,"px"),height:"".concat(c,"px"),transformOrigin:"".concat(u,"px ").concat(s,"px"),transform:"rotate(".concat(l||0,"deg)")}}(o,a,i);return(0,te.jsx)("div",$r($r({className:Zr.placer,style:c,"data-u":a.u,"data-h":a.h},n),{},{children:r}))}on.propTypes={scale:ee().number,keyLayout:Qr.isRequired},on.defaultProps={scale:1};var an=on;function cn(e){var t=e.layout,r=e.renderKey,n=e.scale;return(0,te.jsx)("div",{style:{position:"relative",transform:"scale(".concat(n,")"),transformOrigin:0},children:t.map((function(e,t){return(0,te.jsx)(an,{keyLayout:e,children:r({index:t,keyLayout:e})},t)}))})}cn.propTypes={layout:Yr.isRequired,renderKey:ee().func.isRequired,scale:ee().number},cn.defaultProps={scale:1};var ln=cn,un=r(39693),sn=r.n(un),fn=r(2),pn={};pn.styleTagTransform=b(),pn.setAttributes=p(),pn.insert=s().bind(null,"head"),pn.domAPI=l(),pn.insertStyleElement=y(),a()(fn.Z,pn);var dn=fn.Z&&fn.Z.locals?fn.Z.locals:void 0;function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}var hn=["children","selectable","themeClass","className"];function bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(r),!0).forEach((function(t){vn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==yn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gn=function(e){var t=e.children,r=e.selectable,n=void 0===r||r,o=e.themeClass,i=void 0===o?void 0:o,a=e.className,c=void 0===a?"":a,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,hn),u=sn()([dn.key,n&&dn.selectable,null!=i?i:dn.keyDefaultTheme,c]).join(" ");return(0,te.jsx)("div",mn(mn({className:u},l),{},{children:t}))},jn=r(74691),xn=r.n(jn),wn=r(56520),On={};On.styleTagTransform=b(),On.setAttributes=p(),On.insert=s().bind(null,"head"),On.domAPI=l(),On.insertStyleElement=y(),a()(wn.Z,On);var Sn=wn.Z&&wn.Z.locals?wn.Z.locals:void 0;function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?En(Object(r),!0).forEach((function(t){An(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function An(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cn(e){var t=e.onMouseDown,r=e.selecting,n=e.negate,o=e.rect,i=e.size,a=e.children;return(0,te.jsxs)("div",{onMouseDown:t,className:sn()([Sn.container,r&&Sn.selecting]).join(" "),children:[a,r&&(0,te.jsx)("div",{className:sn()([Sn.overlay,n&&Sn.negate]).join(" "),style:{position:"absolute",top:o[0][1]+"px",left:o[0][0]+"px",width:i[0]+"px",height:i[1]+"px"}})]})}function Dn(e){var t=e.polygons,r=e.onSelect,o=In((0,n.useState)({}),2),i=o[0],a=o[1],c=(0,n.useCallback)((function(e){var t=function(e){for(;(e=e.parentNode)&&("relative"!==e.style.position||!e.getBoundingClientRect().height););return e}(e.target).getBoundingClientRect(),r=e.clientX,n=e.clientY;e.preventDefault(),a({start:[r,n],intersecting:[],offset:[t.left,t.top],offsetRect:t})}),[a]),l=(0,n.useCallback)((function(e){i.selecting&&!e.repeat&&e.shiftKey&&a((function(e){return Pn(Pn({},e),{},{negate:!0})}))}),[i.selecting,a]),u=(0,n.useCallback)((function(e){!i.negate||e.repeat||e.shiftKey||a((function(e){return Pn(Pn({},e),{},{negate:!1})}))}),[i.negate,a]),s=(0,n.useCallback)((function(e){var r=i.start,n=i.offset,o=i.offsetRect;if(r){var c=e.shiftKey,l=e.altKey,u=e.clientX,s=e.clientY,f=In(r,2),p=f[0],d=f[1],y=xn()(u,o.left,o.right),h=xn()(s,o.top,o.bottom),b=[[Math.min(y,p)-n[0],Math.min(h,d)-n[1]],[Math.max(y,p)-n[0],Math.max(h,d)-n[1]]],m=[Math.abs(y-p),Math.abs(h-d)];a((function(e){return Pn(Pn({},e),{},{negate:c||l,selecting:m[0]>3||m[1]>3,intersecting:_n(b,t),rect:b,size:m})}))}}),[i,t,a]),f=(0,n.useCallback)((function(e){i.start&&(i.selecting&&r({negate:i.negate,intersecting:i.intersecting}),a({start:null,selecting:!1}))}),[r,i,a]);return(0,n.useEffect)((function(){return window.addEventListener("mouseup",f),window.addEventListener("mousemove",s),window.addEventListener("keydown",l),window.addEventListener("keyup",u),function(){window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",s),window.removeEventListener("keydown",l),window.removeEventListener("keyup",u)}}),[f,s,l,u]),[Pn(Pn({},i),{},{onMouseDown:c,onMouseMove:s}),Cn]}function _n(e,t){return t.reduce((function(t,r,n){return r.some((function(t){var r=t.x,n=t.y;return e[0][0]<r&&r<e[1][0]&&e[0][1]<n&&n<e[1][1]}))&&t.push(n),t}),[])}var Nn=r(49040),Rn={};Rn.styleTagTransform=b(),Rn.setAttributes=p(),Rn.insert=s().bind(null,"head"),Rn.domAPI=l(),Rn.insertStyleElement=y(),a()(Nn.Z,Rn);var Ln=Nn.Z&&Nn.Z.locals?Nn.Z.locals:void 0,Mn=r(528),Gn={};Gn.styleTagTransform=b(),Gn.setAttributes=p(),Gn.insert=s().bind(null,"head"),Gn.domAPI=l(),Gn.insertStyleElement=y(),a()(Mn.Z,Gn);var Bn=Mn.Z&&Mn.Z.locals?Mn.Z.locals:void 0;function Zn(e){var t=e.children,r=e.className,n=void 0===r?"":r,o=[Bn.tip,n].join(" ");return(0,te.jsxs)("div",{className:o,children:[(0,te.jsx)(le,{name:"hand-point-up"})," ",t]})}function Kn(e){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(e)}function Un(e){return function(e){if(Array.isArray(e))return Yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(r),!0).forEach((function(t){Fn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||Qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Qn(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Qn(e,t){if(e){if("string"==typeof e)return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yn(e,t):void 0}}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jn=.2,Xn=function(e){var t,r=function(e,t){return e.map((function(e){return Cr({x:e.x,y:e.y},{u:e.u||e.w||1,h:e.h||1},{x:e.rx,y:e.ry,a:e.r})}))}(e),n=Wn(r);try{for(n.s();!(t=n.n()).done;){var o,i=Wn(t.value);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.x*=Jn,a.y*=Jn}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return r};function Hn(e){var t,r,o,i,a,c,l,u=e.value,s=e.prompt,f=e.onUpdate,p=Vn(dr(),1)[0].keyboard.layout,d=(0,n.useMemo)((function(){return Xn(p)}),[p]),y=(0,n.useMemo)((function(){return Rr(p,{scale:Jn,overrides:{position:"relative",padding:0,margin:0}})}),[p]),h=(t=Vn((0,n.useReducer)((function(e,t){switch(t){case"INCREMENT_MANUAL_SELECTION":return qn(qn({},e),{},{manualSelectionCount:e.manualSelectionCount+1});case"INCREMENT_MANUAL_DESELECTION":return qn(qn({},e),{},{manualDeSelectionCount:e.manualDeSelectionCount+1});case"TRACK_DRAG_SELECTION":return qn(qn({},e),{},{usedDragSelection:!0});case"TRACK_DRAG_DESELECTION":return qn(qn({},e),{},{usedDragDeSelection:!0});default:throw new Error("Unrecognized action type in ".concat(t))}}),{manualSelectionCount:0,manualDeSelectionCount:0,usedDragSelection:!1,usedDragDeSelection:!1}),2),r=t[0],o=t[1],i=(0,n.useCallback)((function(){return o("INCREMENT_MANUAL_SELECTION")}),[o]),a=(0,n.useCallback)((function(){return o("INCREMENT_MANUAL_DESELECTION")}),[o]),c=(0,n.useCallback)((function(){return o("TRACK_DRAG_SELECTION")}),[o]),l=(0,n.useCallback)((function(){return o("TRACK_DRAG_DESELECTION")}),[o]),{showSelectTip:!r.usedDragSelection&&r.manualSelectionCount>3,showDeSelectTip:!r.usedDragDeSelection&&r.manualDeSelectionCount>3,actions:{manualSelection:i,manualDeSelection:a,dragSelection:c,dragDeSelection:l}}),b=h.showSelectTip,m=h.showDeSelectTip,v=h.actions,g=(0,n.useCallback)((function(e){var t=e.negate,r=e.intersecting;t?v.dragDeSelection():v.dragSelection(),f(t?u.filter((function(e){return!r.includes(e)})):[].concat(Un(u),Un(r)))}),[u,f,v]),j=(0,n.useCallback)((function(e){var t=u.includes(e);t?v.manualDeSelection():v.manualSelection(),f(t?u.filter((function(t){return t!==e})):[].concat(Un(u),[e]))}),[u,f,v]),x=Vn(Dn({onSelect:g,polygons:d}),2),w=x[0],O=x[1],S=w.selecting?w.intersecting:[],k=u,P=w.negate?[]:S.filter((function(e){return!k.includes(e)})),A=w.negate?S.filter((function(e){return k.includes(e)})):[];return(0,te.jsx)("div",{style:y,children:(0,te.jsxs)(O,qn(qn({},w),{},{children:[(0,te.jsx)(ln,{layout:p,bindings:[],scale:Jn,renderKey:function(e){var t=e.index;return(0,te.jsx)(gn,{onClick:function(){return j(t)},themeClass:(0,E.compact)([Ln.key,k.includes(t)&&Ln.highlight,P.includes(t)&&Ln.previewAdd,A.includes(t)&&Ln.previewRemove]).join(" ")})}}),s&&(0,te.jsx)("prompt",{}),b&&(0,te.jsx)(Zn,{className:Ln.tip,children:"Drag to select a region"}),m&&(0,te.jsx)(Zn,{className:Ln.tip,children:"Shift+Drag to de-select a region"})]}))})}Hn.propTypes={onUpdate:ee().func.isRequired,value:ee().arrayOf(ee().number).isRequired,prompt:ee().node};var $n=Hn,eo=r(27470),to={};to.styleTagTransform=b(),to.setAttributes=p(),to.insert=s().bind(null,"head"),to.domAPI=l(),to.insertStyleElement=y(),a()(eo.Z,to);var ro=eo.Z&&eo.Z.locals?eo.Z.locals:void 0;function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach((function(t){ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ao(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==no(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==no(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===no(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(e){var t=e.prop,r=e.schema,n=e.onUpdate;return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(le,{name:"code",title:"Raw property value"})," ",(0,te.jsx)("input",{required:null==r?void 0:r.required,value:null==t?void 0:t.raw,onChange:function(e){return n(io(io({},t),{},{raw:e.target.value,useRaw:!0}))}})]})}function lo(e){var t=e.schema;return(0,te.jsx)("span",{className:ro.readonly,children:t.const})}function uo(e){var t=e.prop,r=e.onUpdate;return(0,te.jsx)("input",{type:"text",value:null==t?void 0:t.parsed,onChange:function(e){r(io(io({},t),{},{parsed:e.target.value,useRaw:!1}))}})}function so(e){var t=e.prop,r=e.onUpdate;return(0,te.jsx)("input",{type:"number",value:null==t?void 0:t.parsed,onChange:function(e){r(io(io({},t),{},{parsed:Number(e.target.value),useRaw:!1}))}})}function fo(e){var t=e.prop,r=e.onUpdate;return(0,te.jsx)("input",{type:"checkbox",checked:null==t?void 0:t.parsed,onChange:function(e){r({parsed:!!e.target.checked,useRaw:!1})}})}var po=r(87360),yo=r.n(po),ho=function(e,t){var r=(t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1))%e.length;return r<0?e.length+r:r},bo=r(47881),mo={};mo.styleTagTransform=b(),mo.setAttributes=p(),mo.insert=s().bind(null,"head"),mo.domAPI=l(),mo.insertStyleElement=y(),a()(bo.Z,mo);var vo=bo.Z&&bo.Z.locals?bo.Z.locals:void 0;function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jo(e){var t,r,o=e.results,i=e.onSelect,a=e.renderResult,c=(t=(0,n.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return go(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?go(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],u=c[1],s=(0,n.useRef)(null),f=(0,n.useCallback)((function(e,t){var r,n,i,a,c,f;if(0!==o.length)if(void 0!==t){var p=null!==l?ho(o,l,t):e,d='li[data-result-index="'.concat(p,'"]');n=null===(r=s.current)||void 0===r?void 0:r.querySelector(d),i=n.offsetParent.scrollTop,a=n.offsetParent.offsetHeight,c=n.offsetTop,f=c+n.scrollHeight,(c<i||f>i+a)&&n.scrollIntoView(!1),u(p)}else u(e);else u(null)}),[o,l,u]),p=(0,n.useCallback)((function(){f(0,1)}),[f]),d=(0,n.useCallback)((function(){f(o.length-1,-1)}),[f,o]),y=(0,n.useCallback)((function(){i(o[l])}),[o,l,i]),h=(0,n.useCallback)((function(e){var t={ArrowDown:p,ArrowUp:d,Enter:y}[e.key];t&&(e.preventDefault(),e.stopPropagation(),t())}),[p,d,y]);return(0,n.useEffect)((function(){return document.body.addEventListener("keydown",h,!0),function(){return document.body.removeEventListener("keydown",h,!0)}}),[h]),(0,te.jsx)("ul",{className:vo.results,ref:s,children:o.map((function(e,t){return(0,te.jsx)("li",{className:l===t?vo.highlighted:"",title:e.description,"data-result-index":t,onClick:function(){return i(e)},onMouseOver:function(){return f(t)},children:a(e,t)},t)}))})}jo.propTypes={results:ee().array.isRequired,onSelect:ee().func.isRequired,renderResult:ee().func.isRequired};var xo=jo;function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){ko(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ko(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==wo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Po(e){e&&(e.focus(),e.select())}var Ao=function(e){var t,r,o=e.choices,i=e.searchKey,a=e.renderResults,c=e.initialQuery,l=!o.length||o.length>10,u=(t=(0,n.useState)(c),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Eo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eo(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],f=u[1],p=(0,n.useMemo)((function(){if(!s||!l)return o;var e={key:i,limit:30};return yo().go(s,o,e).map((function(e){return So(So({},e.obj),{},{search:e})}))}),[l,s,o,i]),d=(0,n.useCallback)((function(e){f(e.target.value)}),[f]);return(0,te.jsxs)(te.Fragment,{children:[l&&(0,te.jsxs)("div",{className:vo.searchWrapper,children:[(0,te.jsx)("input",{ref:Po,type:"text",value:s,onChange:d}),(0,te.jsx)(le,{className:vo.searchIcon,name:"search"}),(0,te.jsx)(le,{className:vo.clearSearchIcon,name:"times",onClick:function(){return f("")}})]}),a(p)]})};Ao.propTypes={choices:ee().array.isRequired,searchKey:ee().string.isRequired,initialQuery:ee().string.isRequired,renderResults:ee().func.isRequired},Ao.defaultProps={initialQuery:""};var Io=Ao;function To(e){var t=e.choices,r=e.prompt,o=e.onSelect,i=(0,n.useMemo)((function(){return t.map((function(e){return{value:e}}))}),[t]),a=(0,n.useCallback)((function(e){var t=e.search?(0,te.jsx)("span",{dangerouslySetInnerHTML:{__html:yo().highlight(e.search)}}):(0,te.jsx)("span",{children:e.value});return(0,te.jsxs)(te.Fragment,{children:[t,e.description&&(0,te.jsx)("p",{className:vo.description,children:e.description})]})}),[]);return(0,te.jsxs)("div",{className:vo.dialog,children:[(0,te.jsx)("p",{children:r||"Select"}),(0,te.jsx)(Io,{choices:i,initialQuery:"",searchKey:"value",renderResults:function(e){return e&&(0,te.jsx)(xo,{results:e,onSelect:function(e){return o(e.value)},renderResult:a})}})]})}To.propTypes={choices:ee().arrayOf(ee().stirng).isRequired,prompt:ee().string,onSelect:ee().func.isRequired};var Co=To;function Do(e){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(e)}function _o(e){return function(e){if(Array.isArray(e))return Ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||No(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){if(e){if("string"==typeof e)return Ro(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ro(e,t):void 0}}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(r),!0).forEach((function(t){Go(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Go(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Do(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Do(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Do(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bo(e){var t=e.prop,r=e.schema,o=e.onUpdate,i=r.enum,a=t.parsed,c=(0,n.useCallback)((function(e){o(Mo(Mo({},t),{},{parsed:i[e.target.value],useRaw:!1}))}),[t,i,o]);return(0,te.jsx)("select",{onChange:c,value:i.indexOf(a),children:i.map((function(e,t){return(0,te.jsx)("option",{value:t,children:e},t)}))})}function Zo(e){var t=e.prop,r=void 0===t?{}:t,o=e.schema,i=e.onUpdate,a=function(e){var t=(0,n.useContext)(O);return(0,n.useMemo)((function(){if(!e.choices)return[];if(Array.isArray(e.choices))return e.choices;if(!e.choices.$source)throw new Error("Expected schema.choices.$source");var r=t[e.choices.$source];return e.choices.$key?Ve()(r,e.choices.$key):r}),[t,e.choices])}(o),c=r.parsed,l=void 0===c?[]:c,u=(0,n.useCallback)((function(e){i(Mo(Mo({},r),{},{useRaw:!1,parsed:e}))}),[r,i]),s=a.length>20?Uo:Ko;return(0,te.jsx)(s,{selected:l,choices:a,onUpdate:u})}function Ko(e){var t=e.selected,r=e.choices,o=e.onUpdate,i=(0,n.useCallback)((function(e){o(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(_o(t),[e]))}),[t,o]);return(0,te.jsx)("ol",{className:ro.propertyMultiSelect,children:r.map((function(e,r){return(0,te.jsx)("li",{children:(0,te.jsxs)("label",{children:[(0,te.jsx)("input",{type:"checkbox",checked:t.includes(e),onChange:function(t){return i(e)}}),e]})},r)}))})}function Uo(e){var t,r,o=e.selected,i=e.choices,a=e.onUpdate,c=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||No(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],u=c[1],s=(0,n.useCallback)((function(e){a([].concat(_o(o),[e])),u(!1)}),[u,o,a]),f=(0,n.useCallback)((function(e){a(o.filter((function(t){return t!==e})))}),[o,a]);return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("ul",{className:ro.propertyMultiSelectChips,children:o.map((function(e,t){return(0,te.jsx)("li",{children:(0,te.jsxs)("span",{className:ro.behaviorBind,children:[e," ",(0,te.jsx)(le,{name:"times",className:ro.phandleRemove,onClick:function(){return f(e)}})]})},t)}))}),(0,te.jsxs)(at,{secondary:!0,onClick:function(){return u(!0)},children:[(0,te.jsx)(le,{name:"plus"})," Add"]}),l&&(0,te.jsx)(we,{onDismiss:function(){return u(!1)},children:(0,te.jsx)(Co,{choices:i,onSelect:s})})]})}function zo(e){var t=(0,n.useContext)(S).getSearchTargets,r=e.param,o=e.prompt,i=e.onSelect,a=(0,n.useMemo)((function(){return t(r)}),[t,r]);return(0,te.jsxs)("div",{className:vo.dialog,children:[(0,te.jsx)("p",{children:o}),(0,te.jsx)(xo,{results:a,onSelect:i,renderResult:function(e){return e.code}})]})}zo.propTypes={value:ee().any.isRequired,param:ee().object.isRequired,prompt:ee().string.isRequired,onSelect:ee().func.isRequired},zo.defaultProps={value:""};var qo=zo,Fo=ee().oneOfType([ee().oneOf(["code","layer","mod","command"]),ee().shape({enum:ee().array,raw:ee().bool,name:ee().string.isRequired,type:ee().string.isRequired})]),Vo=ee().arrayOf(Fo),Wo=ee().oneOfType([ee().string,ee().number]),Qo=ee().shape({params:Vo,code:Wo.isRequired,description:ee().string,symbol:ee().string,faIcon:ee().string}),Yo=ee().shape({value:Wo,source:Qo,params:ee().arrayOf(ee().shape({value:Wo,source:Qo,params:ee().arrayOf(ee().object)}))}),Jo=Yo;function Xo(e){var t=e.prompt,r=e.searchKey,o=e.node,i=e.param,a=e.behaviour,c=e.context,l=e.onSelect,u=(0,n.useContext)(S).getSearchTargets,s=(0,n.useCallback)((function(e){var t=e.search?(0,te.jsx)("span",{dangerouslySetInnerHTML:{__html:yo().highlight(e.search)}}):(0,te.jsx)("span",{children:e.code});return(0,te.jsxs)(te.Fragment,{children:[t,e.description&&(0,te.jsx)("p",{className:vo.description,children:e.description})]})}),[]),f=(0,n.useMemo)((function(){return u(i,a.code,c)}),[u,i,a,c]);return(0,te.jsxs)("div",{className:vo.dialog,children:[(0,te.jsx)("p",{children:t}),(0,te.jsx)(Io,{choices:f,initialQuery:o.value||"",searchKey:r,renderResults:function(e){return e&&(0,te.jsx)(xo,{results:e,onSelect:l,renderResult:s})}})]})}ee().arrayOf(Yo),Xo.propTypes={node:Jo.isRequired,param:ee().oneOfType([ee().string,ee().shape({enum:ee().array,raw:ee().bool,type:ee().string})]).isRequired,prompt:ee().string.isRequired,searchKey:ee().string.isRequired,behaviour:ee().object.isRequired,context:ee().string.isRequired,onSelect:ee().func.isRequired};var Ho=Xo,$o=r(93565);function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ti(e){var t,r,o=e.node,i=e.onSelect,a=(t=(0,n.useState)({h:Number(o.params[0].value),s:Number(o.params[1].value)/100,l:Number(o.params[2].value)/100}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ei(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1],u=(0,n.useCallback)((function(e){var t=e.hsl;l(t)}),[l]),s=(0,n.useCallback)((function(){i([{value:Math.round(c.h)},{value:Math.round(100*c.s)},{value:Math.round(100*c.l)}])}),[c,i]);return(0,te.jsxs)("div",{children:[(0,te.jsx)("p",{children:"Select colour"}),(0,te.jsx)($o.AI,{color:c,disableAlpha:!0,onChangeComplete:u}),(0,te.jsx)("p",{style:{textAlign:"center"},children:(0,te.jsx)(at,{onClick:s,children:"Confirm"})})]})}ti.propTypes={value:ee().any.isRequired,prompt:ee().string.isRequired,param:ee().oneOfType([ee().shape({enum:ee().array,raw:ee().bool,type:ee().string})]).isRequired,onSelect:ee().func.isRequired},ti.defaultProps={value:""};var ri=ti;function ni(e,t){if(e){if("string"==typeof e)return ii(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ii(e,t):void 0}}function oi(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ai(e){return e.params.length>0?[e].concat(function(e){if(Array.isArray(e))return ii(e)}(t=ai(e.params[0]))||oi(t)||ni(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):[e];var t}function ci(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e)||oi(t)||ni(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r.slice(1);return{value:n,params:0===o.length?[]:[ci(o)]}}var li=r(14409),ui={};ui.styleTagTransform=b(),ui.setAttributes=p(),ui.insert=s().bind(null,"head"),ui.domAPI=l(),ui.insertStyleElement=y(),a()(li.Z,ui);var si=li.Z&&li.Z.locals?li.Z.locals:void 0;function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pi=["LSHFT","LALT","LCTRL","LGUI"],di=["RSHFT","RALT","RCTRL","RGUI"];function yi(e){var t=e.selected,r=e.row,n=e.onSelect;return(0,te.jsx)("ul",{className:si.modifiers,children:r.map((function(e,r){return(0,te.jsx)("li",{className:t.includes(e)?si.selected:"",onClick:function(){return n(e)},children:e},r)}))})}function hi(e){var t=e.selected,r=e.onChange;function n(e){var n;r(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(function(e){if(Array.isArray(e))return fi(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return fi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fi(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]))}return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(yi,{row:pi,selected:t,onSelect:n}),(0,te.jsx)(yi,{row:di,selected:t,onSelect:n})]})}hi.propTypes={selected:ee().arrayOf(ee().string)};var bi=hi;function mi(){return(0,te.jsx)("span",{children:""})}function vi(e){return e&&"(".concat(e.code,") ").concat(e.description)}function gi(e){var t,r=e&&((null==e?void 0:e.symbol)||(null==e||null===(t=e.code)||void 0===t?void 0:t.toString()));return(null==e?void 0:e.faIcon)&&(0,te.jsx)(le,{name:e.faIcon})||r||(0,te.jsx)(mi,{})}function ji(e){var t=e.node,r=e.onSelect,o=t.value,i=t.source,a=vi(i),c=(0,n.useCallback)((function(e){e.stopPropagation(),r({node:t})}),[t,r]);return(0,te.jsx)("span",{className:sn()([dn.code,void 0===o&&dn.missingValue]).join(" "),title:a,onClick:c,children:gi(i)})}ji.propTypes={node:Jo.isRequired,onSelect:ee().func.isRequired};var xi=ji;function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oi=function(e){var t=e.node,r=e.onSelect,o=(0,n.useCallback)((function(e){e.stopPropagation(),r({node:t,type:"tree"})}),[t,r]),i=(0,n.useMemo)((function(){return Ve()(ai(t),"source")}),[t]),a=(0,n.useMemo)((function(){return i.map(gi).map((function(e,t){return(0,te.jsx)(n.Fragment,{children:e},t)})).reduce((function(e,t){return 0===e.length?[t]:[].concat(function(e){if(Array.isArray(e))return wi(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return wi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wi(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[" ",t]);var r}),[])}),[i]),c=(0,n.useMemo)((function(){return i.map(vi).join(" + ")}),[i]);return(0,te.jsx)("span",{className:sn()([dn.code,void 0===t.value&&dn.missingValue]).join(" "),title:c,onClick:o,children:a})};function Si(e,t){var r=Ue()(e,"[0]",{}),n=j()(t.commands,"code");return[].concat(t.params||[],"command"===Ue()(t,"params[0]")?Ue()(n[r.value],"additionalParams",[]):[])}function ki(e){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(e)}function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(r),!0).forEach((function(t){Ai(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ai(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ki(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ki(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ti(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ci(e){var t=[];return function e(r){var n=r.params||[];t.push(r),n.forEach(e)}(e),t}function Di(e,t){var r=Ii(e.params,1)[0],n=Ue()(r,"source.symbol",Ue()(r,"value","")),o=!Ue()(r,"source.faIcon")&&n.length>4,i=t.length>1,a=Ue()(r,"params",[]).length>0;return o||i||a}function _i(e){var t={layer:"Select layer",mod:"Select modifier",behaviour:"Select behaviour",command:"Select command",keycode:"Select key code"};return e.name?"Select ".concat(e.name):t[e]||t.keycode}function Ni(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",o=arguments.length>4?arguments[4]:void 0,i=e,a=Ue()(r.behavioursByContext[n],i,{}),c=Si(t,a),l=j()(a.commands,"code");function u(e,t){if(!e)return{value:void 0,slot:t,params:[]};var n=e.value,i=e.params,a=function(e,t){var n;return"command"===t?l[e]:t.raw||t.enum||"placeholder"===t.type?{code:e}:null==r||null===(n=r[t])||void 0===n?void 0:n[e]}(n,t);return{value:n,slot:t,source:Pi(Pi({},a),{},{symbol:Ue()(o,[null==a?void 0:a.name,"symbol"],null==a?void 0:a.symbol),faIcon:Ue()(o,[null==a?void 0:a.name,"faIcon"],null==a?void 0:a.faIcon)}),params:Ue()(a,"params",[]).map((function(e,t){return u(i[t],e)}))}}return{value:e,slot:"behaviour",source:a,params:c.map((function(e,r){return u(t[r],e)}))}}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||Li(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e,t){if(e){if("string"==typeof e)return Mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mi(e,t):void 0}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gi(e){var t=e.search?(0,te.jsx)("span",{dangerouslySetInnerHTML:{__html:yo().highlight(e.search)}}):(0,te.jsx)("span",{children:e.code});return(0,te.jsxs)(te.Fragment,{children:[t,(0,te.jsx)("p",{className:vo.description,children:e.description})]})}function Bi(e){var t=e.node,r=e.onSelect,o=e.behaviour,i=(0,n.useContext)(S),a=i.getSearchTargets,c=i.sources,l=i.mergedGlyphs,u=(0,n.useMemo)((function(){return Ve()(ai(t),"source")}),[t]),s=1===u.length?[]:u.slice(0,-1),f=Ri((0,n.useState)(Ve()(s,"name")),2),p=f[0],d=f[1],y=Ri((0,n.useState)(u.at(-1)),2),h=y[0],b=y[1],m=(0,n.useMemo)((function(){return a("code",o.code).filter((function(e){return 0===e.params.length}))}),[a,o]),v=Ni("&kp",[{value:null==h?void 0:h.code,params:null==h?void 0:h.params}],c,void 0,l);return(0,te.jsxs)("div",{className:vo.dialog,children:[(0,te.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,te.jsxs)("div",{children:[(0,te.jsx)("p",{children:"Keycode"}),(0,te.jsx)(gn,{className:si.previewKeycode,selectable:!1,children:(0,te.jsx)(Oi,{node:v.params[0],onSelect:function(){}})})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)("p",{children:"Modifiers"}),(0,te.jsx)(bi,{selected:p,onChange:d})]})]}),(0,te.jsx)("p",{children:"Available Keycodes"}),(0,te.jsx)(Io,{choices:m,initialQuery:null==h?void 0:h.code,searchKey:"code",renderResults:function(e){return e&&(0,te.jsx)(xo,{results:e,onSelect:b,renderResult:Gi})}}),(0,te.jsxs)("p",{style:{textAlign:"center"},children:[(0,te.jsx)(at,{onClick:function(){var e,t={LSHFT:"LS",LCTRL:"LC",LALT:"LA",LGUI:"LG",RSHFT:"RS",RCTRL:"RC",RALT:"RA",RGUI:"RG"},n=p.map((function(e){return t[e]})),o=ci(sn()([].concat(function(e){if(Array.isArray(e))return Mi(e)}(e=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Li(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[null==h?void 0:h.code])));r(o)},children:"Confirm"}),(0,te.jsx)(at,{onClick:function(){r(t)},secondary:!0,children:"Cancel"})]})]})}Bi.propTypes={node:Jo.isRequired,param:ee().oneOfType([ee().string,ee().shape({enum:ee().array,raw:ee().bool,type:ee().string})]).isRequired,prompt:ee().string.isRequired,searchKey:ee().string.isRequired,behaviour:ee().object.isRequired,context:ee().string.isRequired,onSelect:ee().func.isRequired};var Zi=Bi;function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ui(e){e&&(e.focus(),e.select())}function zi(e){var t,r,o=e.value,i=e.prompt,a=e.param,c=e.onSelect,l=(t=(0,n.useState)(o),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ki(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ki(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],s=l[1],f=(0,n.useCallback)((function(e){"Enter"===e.key&&c({code:u})}),[u,c]),p=(0,n.useCallback)((function(e){var t=e.target.value;"number"===a.type&&(t=Number(t),Number.isNaN(t))||s(t)}),[a,s]);return(0,te.jsxs)("div",{className:vo.dialog,children:[(0,te.jsx)("p",{children:i}),(0,te.jsx)("input",{ref:Ui,type:"text",value:u,onChange:p,onKeyDown:f})]})}zi.propTypes={value:ee().any.isRequired,prompt:ee().string.isRequired,param:ee().oneOfType([ee().shape({enum:ee().array,raw:ee().bool,type:ee().string})]).isRequired,onSelect:ee().func.isRequired},zi.defaultProps={value:""};var qi=zi;function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function Vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(r),!0).forEach((function(t){Qi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yi(e){var t=e.node,r=e.type,o=e.onCancel,i=e.onSelect,a=(0,E.pick)(e,["node","value","prompt","param","node","behaviour","context","searchKey"]),c=(0,n.useMemo)((function(){var e;return"params"===r&&"hsb-color-picker"===(null===(e=t.source)||void 0===e?void 0:e.helper)?ri:t.slot.raw||"placeholder"===t.slot.type?qi:t.slot.enum?qo:"code"===t.slot?Zi:Ho}),[t,r]);return(0,te.jsx)(we,{onDismiss:o,children:(0,te.jsx)(c,Wi(Wi({},a),{},{param:t.slot,onSelect:i}))})}Yi.propTypes={type:ee().string.isRequired,node:Jo.isRequired,behaviour:ee().object.isRequired,prompt:ee().string.isRequired,searchKey:ee().string.isRequired,searchThreshold:ee().number,onCancel:ee().func.isRequired,onSelect:ee().func.isRequired},Yi.defaultProps={type:"value",value:"",freeForm:!1,searchThreshold:10};var Ji=Yi;function Xi(e){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi(e)}function Hi(e){return function(e){if(Array.isArray(e))return na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ra(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(r),!0).forEach((function(t){ta(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ta(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ra(e,t){if(e){if("string"==typeof e)return na(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?na(e,t):void 0}}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oa(e){var t,r,o=e.prop,i=void 0===o?{}:o,a=e.schema,c=void 0===a?{}:a,l=e.onUpdate,u=i.parsed,s=void 0===u?[]:u,f=c.length,p=(t=(0,n.useState)(null),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||ra(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=p[0],y=p[1],h=(0,n.useCallback)((function(){l(ea(ea({},i),{},{useRaw:!1,parsed:[].concat(Hi(s),[""])})),y(s.length)}),[i,s,l,y]),b=(0,n.useCallback)((function(e){l(ea(ea({},i),{},{useRaw:!1,parsed:At(s,d,e.code)})),y(null)}),[i,s,d,l]),m=(0,n.useCallback)((function(e){l(ea(ea({},i),{},{useRaw:!1,parsed:Pt(s,e)}))}),[i,s,l]);return(0,te.jsxs)("div",{children:[(0,te.jsx)("ol",{className:(0,E.compact)([ro.propertyPhandleSelect,1===f&&ro.propertyPhandleSingleton]).join(" "),children:s.map((function(e,t){return(0,te.jsx)("li",{children:(0,te.jsxs)("span",{className:ro.behaviorBind,onClick:function(){return y(t)},children:[e,1!==f&&(0,te.jsx)(le,{name:"times",className:ro.phandleRemove,onClick:function(e){e.stopPropagation(),m(t)}})]})},t)}))}),null!==d&&(0,te.jsx)(Ji,{node:{value:s[d],params:[],slot:"behaviour"},type:"value",context:"none",behaviour:{code:s[d]},prompt:"Select Behavior",searchKey:"code",onSelect:b,onCancel:function(){return y(null)}}),f&&s.length<f&&(0,te.jsxs)(at,{secondary:!0,onClick:h,children:[(0,te.jsx)(le,{name:"plus"})," Add Behavior"]})]})}var ia=r(50361),aa=r.n(ia);function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach((function(t){sa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ca(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ca(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pa={display:"inline-block",cursor:"pointer",verticalAlign:"text-top",border:"0.75px solid var(--key-color-base)",borderRadius:"3px"},da={display:"flex",justifyContent:"center",alignItems:"center",width:"10px",height:"10px",margin:"1px",borderRadius:"2px"},ya=function(e){var t,r,o=e.node,i=e.onSelect,a=(t=o.params,r=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return fa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fa(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1],u=a[2],s=(0,n.useCallback)((function(){i({node:o,type:"params"})}),[o,i]),f=(0,n.useMemo)((function(){return[c,l,u].some((function(e){return void 0===e.value}))}),[c,l,u]),p="hsl(".concat(c.value,", ").concat(l.value,"%, ").concat(u.value,"%)");return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(xi,{node:o,onSelect:i}),f?(0,te.jsx)(xi,{node:{},onSelect:s}):(0,te.jsx)("div",{onClick:s,style:pa,children:(0,te.jsx)("div",{className:f?dn.missingValue:null,style:ua(ua({},da),{},{backgroundColor:p})})})]})};function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach((function(t){va(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function va(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ha(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ga(e){var t=e.node,r=e.onSelect;return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(xi,{node:t,onSelect:r}),Ue()(t,"source.params.length")>0?(0,te.jsx)(xa,{slots:t.source.params,params:t.params,onSelect:r}):null]})}function ja(e){var t=e.node,r=e.onSelect,o=e.slot,i=(0,n.useMemo)((function(){var e;return"hsb-color-picker"===(null===(e=t.source)||void 0===e?void 0:e.helper)?ya:"code"===o?Oi:ga}),[t,o]);return(0,te.jsx)("span",{className:dn.param,children:(0,te.jsx)(i,{node:t,onSelect:r})})}function xa(e){var t=e.slots,r=e.params,n=e.onSelect,o=e.root,i=e.wrapperProps;return(0,te.jsx)("span",ma(ma({className:dn.params,"data-is-root":!!o,"data-param-count":r.length},i),{},{children:t.map((function(e,t){return(0,te.jsx)(ja,{slot:e,node:r[t],onSelect:n},t)}))}))}xa.propTypes={slots:ee().arrayOf(Fo).isRequired,params:ee().arrayOf(Jo).isRequired,source:Qo,onSelect:ee().func.isRequired};var wa=xa;function Oa(e,t){if(e){if("string"==typeof e)return Sa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sa(e,t):void 0}}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ka(e){var t,r,o,i,a,c,l=(0,n.useContext)(S),u=l.sources,s=l.mergedGlyphs,f=e.context,p=void 0===f?"none":f,d=e.hideBehaviour,y=e.value,h=e.params,b=e.onUpdate,m=(a=(0,n.useState)(null),c=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(a,c)||Oa(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=m[0],g=m[1],j=y,x=Ue()(u.behavioursByContext[p],j,{}),w=Si(h,x),O=Ni(y,h,u,p,s),k=Ci(O),P=function(e){if(!e[0].source.code)return!0;var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Oa(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var n,o=t.value;if(((null===(n=o.source)||void 0===n?void 0:n.params)||[]).length>o.params.length)return!0;if(o.params.some((function(e){return void 0===e.value||""===e.value||void 0===e.source})))return!0}}catch(e){r.e(e)}finally{r.f()}}(k);function A(e){var t=e.node,r=e.type;g({node:t,type:void 0===r?"value":r,nodeIndex:k.indexOf(t)})}return(0,te.jsxs)(te.Fragment,{children:[x&&!d?(0,te.jsx)("span",{className:(0,E.compact)([dn["behaviour-binding"],!x.code&&dn.missingValue]).join(" "),onClick:function(){return A({node:O})},children:x.code||""}):null,P&&(0,te.jsx)(le,{name:"warning",className:dn.missing,title:"Binding has missing value(s)"}),(0,te.jsx)(wa,{root:!0,slots:w,params:O.params,onSelect:A,wrapperProps:{"data-simple":(t=O,r=Ii(t.params,1)[0],o=Ue()(r,"source.symbol",Ue()(r,"source.code","")),i=!!Ue()(r,"source.faIcon")||1===o.length,1===t.params.length&&i),"data-long":Di(O,w)}}),v&&(0,te.jsx)(Ji,{node:v.node,type:v.type,behaviour:x,context:p,prompt:_i(v.node.slot),searchKey:"code",onSelect:function(e){if("tree"===v.type)return function(e){var t=e.value,r=e.params,n=v.nodeIndex,o=aa()(O),i=Ci(o),a=i[n];a.value=t,a.params=r,i.forEach((function(e){delete e.source})),g(null),b(Mr()(o,["value","params"]))}(e);if("params"===v.type)return function(e){var t=v.nodeIndex,r=aa()(O),n=Ci(r);n[t].params=e,n.forEach((function(e){delete e.source})),g(null),b(Mr()(r,["value","params"]))}(e);var t=v.node,r=v.nodeIndex,n=aa()(O),o=Ci(n),i=o[r];if(t.slot.raw)"number"===t.slot.type&&(e.code=Number(e.code));else if("command"===t.slot){var a,c,l,u=(null===(a=i.source)||void 0===a||null===(c=a.additionalParams)||void 0===c?void 0:c.length)||0;if(((null===(l=e.additionalParams)||void 0===l?void 0:l.length)||0)<u){var s=o[0];s.params.splice(1,s.params.length-1),o.splice(2,o.length-1)}}i.value=e.code,i.params=i.params.reduce((function(t,r,n){var o;return t.length===n&&i.source.params[n]===(null==e||null===(o=e.params)||void 0===o?void 0:o[n])&&t.push(r),t}),[]),o.forEach((function(e){delete e.source})),g(null),b(Mr()(n,["value","params"]))},onCancel:function(){return g(null)}})]})}ka.propTypes={context:ee().string,hideBehaviour:ee().bool.isRequired,value:Wo.isRequired,params:ee().arrayOf(Yo),onUpdate:ee().func.isRequired},ka.defaultProps={hideBehaviour:!1};var Ea=ka;function Pa(e){var t=e.context,r=e.value,n=e.params,o=e.onUpdate;return(0,te.jsx)(gn,{children:(0,te.jsx)(Ea,{context:t,value:r,params:n,onUpdate:o})})}Pa.propTypes={label:ee().string,value:Wo.isRequired,params:ee().arrayOf(Yo),onUpdate:ee().func.isRequired};var Aa=Pa;function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(r),!0).forEach((function(t){_a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ia(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ia(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ia(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Na(e){var t=e.prop,r=void 0===t?{}:t,o=e.onUpdate,i=r.parsed,a=void 0===i?[]:i,c=(0,n.useCallback)((function(){var e;o(Da(Da({},r),{},{useRaw:!1,parsed:[].concat((e=a,function(e){if(Array.isArray(e))return Ta(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ta(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ta(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{value:"",params:[]}])}))}),[r,a,o]),l=(0,n.useCallback)((function(e,t){o(Da(Da({},r),{},{useRaw:!1,parsed:At(a,t,e)}))}),[r,a,o]),u=(0,n.useCallback)((function(e){o(Da(Da({},r),{},{useRaw:!1,parsed:Pt(a,e)}))}),[r,a,o]);return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("ol",{className:ro.propertyBindingsValue,children:a.map((function(e,t){return(0,te.jsx)("li",{children:(0,te.jsxs)(gn,{children:[(0,te.jsx)(Aa,{context:"none",value:e.value,params:e.params,onUpdate:function(e){return l(e,t)}}),(0,te.jsx)("div",{className:ro.actions,children:(0,te.jsx)(le,{name:"trash",className:ro.deleteBind,onClick:function(e){e.stopPropagation(),u(t)}})})]})},t)}))}),(0,te.jsxs)(at,{secondary:!0,onClick:c,children:[(0,te.jsx)(le,{name:"plus"})," Add binding"]})]})}function Ra(e){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(e)}function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){Ga(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ga(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ra(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ra(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ba(e){var t=e.schema,r=void 0===t?{}:t,n=r.type;if("const"in r)return(0,te.jsx)(lo,Ma({},e));if("enum"in r)return(0,te.jsx)(Bo,Ma({},e));if("key-position-picker"===r.helper){var o=e.prop,i=void 0===o?{}:o,a=e.onUpdate;return(0,te.jsx)($n,{value:i.parsed||[],onUpdate:function(e){a(Ma(Ma({},i),{},{useRaw:!1,parsed:e}))}})}if(r.choices)return(0,te.jsx)(Zo,Ma({},e));switch(n){case"string":return(0,te.jsx)(uo,Ma({},e));case"int":return(0,te.jsx)(so,Ma({},e));case"boolean":return(0,te.jsx)(fo,Ma({},e));case"phandle":case"phandles":return(0,te.jsx)(oa,Ma({},e));case"phandle-array":return(0,te.jsx)(Na,Ma({},e));default:return(0,te.jsx)(co,Ma({},e))}}Ba.propTypes={schema:ee().shape({type:ee().oneOf(["string","boolean","int","array","phandle","phandles","phandle-array","integer-union"]),required:ee().bool,description:ee().string,default:ee().any,const:ee().any,helper:ee().any}),prop:ee().shape({parsed:ee().any,raw:ee().string}),onUpdate:ee().func.isRequired};var Za=Ba;function Ka(e){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(e)}function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){qa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ka(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ka(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ka(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Va=function(e){var t,r,o=e.node,i=e.onUpdate,a=e.onCancel,c=(0,n.useContext)(O).behaviors,l=(t=(0,n.useState)(o),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Fa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fa(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],s=l[1],f=c[o.compatible],p=function(e){return function(t){s(za(za({},u),{},{properties:za(za({},u.properties),{},qa({},e,t))}))}},d=(0,n.useCallback)((function(){return i(u)}),[u,i]),y=(null==f?void 0:f.properties)||{},h=f?Object.keys(f.properties):Object.keys(u.properties);return(0,te.jsx)(we,{onDismiss:a,children:(0,te.jsxs)(wr,{dismissText:!1,children:[(0,te.jsxs)("h2",{children:["Edit Behavior: ",o.name," ",(0,te.jsxs)("code",{children:["(&",o.labels[0],")"]})]}),(0,te.jsx)("table",{className:kr.editorForm,children:(0,te.jsxs)("tbody",{children:[(0,te.jsxs)("tr",{children:[(0,te.jsx)("th",{children:"Node name"}),(0,te.jsx)("td",{children:(0,te.jsx)("input",{value:u.name,onChange:function(e){return s(za(za({},u),{},{name:e.target.value}))}})})]}),(0,te.jsxs)("tr",{children:[(0,te.jsx)("th",{children:"Labels"}),(0,te.jsx)("td",{children:(0,te.jsx)("input",{type:"text",value:u.labels.join(", "),onChange:function(e){return s(za(za({},u),{},{labels:e.target.value.split(",").map((function(e){return e.trim()}))}))}})})]})]})}),(0,te.jsx)("h3",{children:"Configuration"}),(0,te.jsxs)("table",{className:kr.editorForm,children:[(0,te.jsx)("thead",{children:(0,te.jsxs)("tr",{children:[(0,te.jsx)("th",{children:"Property"}),(0,te.jsx)("th",{children:"Value"}),(0,te.jsx)("th",{})]})}),(0,te.jsx)("tbody",{children:h.map((function(e,t){return(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{className:kr.propertyName,children:e in y?e:(0,te.jsx)("input",{value:e,onChange:(r=e,function(e){s(za(za({},u),{},{properties:Object.keys(u.properties).reduce((function(t,n){var o=u.properties[n];return n===r&&(n=e.target.value),t[n]=o,t}),{})}))})})}),(0,te.jsx)("td",{className:kr.propertyValue,children:(0,te.jsx)(Za,{name:e,prop:u.properties[e],schema:null==f?void 0:f.properties[e],onUpdate:p(e)})}),(0,te.jsx)("td",{})]},t);var r}))})]}),(0,te.jsxs)("div",{style:{textAlign:"center"},children:[(0,te.jsx)(at,{onClick:d,children:"Ok"}),(0,te.jsx)(at,{onClick:a,secondary:!0,children:"Cancel"})]})]})})};function Wa(e){var t=e.onDismiss;return(0,te.jsx)(we,{onDismiss:t,children:(0,te.jsxs)(wr,{onDismiss:t,style:{maxHeight:"80vh",overflow:"scroll"},children:[(0,te.jsx)("h2",{children:"Behavior Editing Beta Test"}),(0,te.jsx)("p",{children:"Welcome to the behavior editing beta!"}),(0,te.jsx)("p",{children:"This feature has been a long time coming, and while it should enable a lot of advanced ZMK features through the app it is still a work in progress. Some features are still missing so the use experience is a little rough, and there may be errors as well."}),(0,te.jsx)("p",{children:"Please note that there are a number of known limitations as well:"}),(0,te.jsxs)("ul",{children:[(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:"Dynamic parsing:"})," currently the backend will parse behaviors from your ",(0,te.jsx)("code",{children:".keymap"})," file and attempt to resolve parameters to the correct type. Changes to a behaviors bindings (for example, changing a hold-tap from ",(0,te.jsx)("code",{children:"&kp"})," to ",(0,te.jsx)("code",{children:"&mo"}),") will not currently update it. For now you can work around this by commiting changes first."]}),(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:"Raw editing:"})," for behavior properties that can't be mapped to suitable input components, or mapped components that are not functioning correctly, the goal is to allow a user to fall back to editing raw devicetree values. This isn't in place yet."]}),(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:"Optional properties:"})," behavior schemas specify which properties are required, and when there is a default value that will be used in the absence of a custom one, but currently it is not possible to delete a property that's no longer needed, or to use the",(0,te.jsx)("code",{children:"/delete-property/"})," syntax to override a boolean property set in the default implementation."]}),(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:"Behavior re-configuration:"})," so far the editor only allows for custom defined behaviors with their own bind labels (like a custom hold tap implementation) and not configuration of existing behaviors (like changing featurs of ",(0,te.jsx)("code",{children:"&mt"}),")."]})]})]})})}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ya=['"zmk,behavior-hold-tap"','"zmk,behavior-mod-morph"','"zmk,behavior-tap-dance"','"zmk,behavior-sticky-key"','"zmk,behavior-caps-word"'];function Ja(e){var t,r,o=e.onUpdate,i=e.onCancel,a=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Qa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qa(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{dismissText:null,children:[(0,te.jsx)("h3",{children:"Add new behavior"}),(0,te.jsxs)("label",{children:["Type ",(0,te.jsxs)("select",{required:!0,value:c,onChange:function(e){return l(e.target.value)},children:[(0,te.jsx)("option",{value:"",disabled:!0,children:"Select a behavior type"}),Ya.map((function(e,t){return(0,te.jsx)("option",{value:e,children:e},t)}))]})]}),(0,te.jsxs)("div",{children:[(0,te.jsx)(at,{disabled:!c,onClick:function(){return o(c)},children:"Create"}),(0,te.jsx)(at,{onClick:i,secondary:!0,children:"Cancel"})]})]})})}Ja.propTypes={onUpdate:ee().func.isRequired,onCancel:ee().func.isRequired};var Xa=Ja;function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(r),!0).forEach((function(t){tc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ha(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oc=function(){var e=rc(dr(),2),t=e[0].experimentalSettings,r=e[1],o=rc((0,n.useState)(null),2),i=o[0],a=o[1],c=rc((0,n.useState)(!1),2),l=c[0],u=c[1],s=rc((0,n.useState)(!1),2),f=s[0],p=s[1],d=rc(dr("keyboard.keymap.behaviors"),2),y=d[0],h=d[1],b=((0,n.useCallback)((function(){u(!0)}),[u]),(0,n.useCallback)((function(e){u(!1),h({type:"ADD_BEHAVIOR",behavior:{name:"new-behavior",labels:["new-behavior"],properties:{compatible:{raw:e},label:{raw:'"NEW_BEHAVIOR"'}}}}),setTimeout((function(){return a(y.length)}))}),[y,h,u,a])),m=(0,n.useCallback)((function(e){a(e)}),[a]),v=(0,n.useCallback)((function(e){h({type:"DELETE_BEHAVIOR",behaviorIndex:e})}),[h]),g=(0,n.useCallback)((function(e){e.stopPropagation(),p(!0)}),[p]),j=(0,n.useCallback)((function(){p(!1)}),[p]),x=(0,n.useCallback)((function(e){r({type:"SETTINGS_UPDATE",settings:ec(ec({},t),{},{enableBehaviorEditing:e})})}),[t,r]);return(0,te.jsxs)("div",{className:kr.main,children:[l&&(0,te.jsx)(Xa,{onUpdate:b,onCancel:function(){return u(!1)}}),null!==i&&(0,te.jsx)(Va,{node:y[i],onCancel:function(){return a(null)},onUpdate:function(e){a(null),h({type:"UPDATE_BEHAVIOR",behaviorIndex:i,behavior:e})}}),f&&(0,te.jsx)(Wa,{onDismiss:j}),(0,te.jsxs)("div",{className:kr.panel,children:[(0,te.jsxs)("label",{children:["Enable Beta",(0,te.jsx)("input",{type:"checkbox",checked:t.enableBehaviorEditing,onChange:function(e){return x(e.target.checked)}})]}),(0,te.jsxs)(at,{onClick:g,style:{backgroundColor:"orange"},children:[(0,te.jsx)(le,{name:"warning"})," Details"]}),(0,te.jsx)("h3",{children:"Custom Behaviors"}),(0,te.jsxs)("table",{style:{width:"100%"},children:[(0,te.jsx)("thead",{children:(0,te.jsxs)("tr",{children:[(0,te.jsx)("th",{children:"Binding"}),(0,te.jsx)("th",{children:"Compatible"}),(0,te.jsx)("th",{children:"Actions"})]})}),(0,te.jsx)("tbody",{children:y.map((function(e,r){return(0,te.jsxs)("tr",{children:[(0,te.jsx)("td",{children:(0,te.jsxs)("code",{children:["&",e.labels[0]]})}),(0,te.jsx)("td",{children:e.properties.compatible.raw}),(0,te.jsx)("td",{children:t.enableBehaviorEditing&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(le,{className:kr.action,onClick:function(){return m(r)},name:"wrench"}),(0,te.jsx)(le,{className:kr.action,onClick:function(){return v(r)},name:"trash-can"})]})})]},r)}))})]})]})]})},ic=r(78207),ac={};ac.styleTagTransform=b(),ac.setAttributes=p(),ac.insert=s().bind(null,"head"),ac.domAPI=l(),ac.insertStyleElement=y(),a()(ic.Z,ac);var cc=ic.Z&&ic.Z.locals?ic.Z.locals:void 0;function lc(){return(0,te.jsx)("p",{className:cc.floatingMessage,children:"Click on a key to add it to the combo"})}function uc(e){var t=e.keyPositions,r=e.onUpdate;return(0,te.jsxs)("div",{className:cc.comboInputMap,children:[(0,te.jsx)($n,{value:t,onUpdate:r}),t.length<2&&(0,te.jsx)(lc,{})]})}uc.propTypes={layout:Yr.isRequired,onUpdate:ee().func.isRequired,keyPositions:ee().arrayOf(ee().number).isRequired};var sc=uc,fc=r(86015),pc={};pc.styleTagTransform=b(),pc.setAttributes=p(),pc.insert=s().bind(null,"head"),pc.domAPI=l(),pc.insertStyleElement=y(),a()(fc.Z,pc);var dc=fc.Z&&fc.Z.locals?fc.Z.locals:void 0;function yc(e){return function(t){t.stopPropagation(),e()}}function hc(e){return function(t){e[t.key]&&e[t.key]()}}function bc(e){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(e)}function mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==bc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==bc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===bc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xc(e){var t,r,o=e.value,i=e.validate,a=e.required,c=e.render,l=e.onUpdate,u=(0,n.useRef)(),s=(t=(0,n.useState)({value:o,editing:!1,attemptedEmpty:!1}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return jc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jc(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],p=s[1],d=f.attemptedEmpty?"cannot be empty":i&&i(f.value),y=(0,n.useCallback)((function(e){e&&(e.focus(),e.select())}),[]),h=(0,n.useCallback)((function(){p((function(e){return vc(vc({},e),{},{editing:!1})}))}),[p]),b=(0,n.useCallback)((function(e){u.current&&!u.current.contains(e.target)&&h()}),[u,h]);return(0,n.useEffect)((function(){return document.addEventListener("click",b),function(){return document.removeEventListener("click",b)}}),[b]),f.editing?(0,te.jsxs)("span",{className:dc.container,ref:u,children:[(0,te.jsx)("input",{ref:y,value:f.value,onChange:function(e){return p(vc(vc({},f),{},{attemptedEmpty:!1,value:e.target.value}))},onKeyDown:hc({Enter:function(){f.editing&&(""===f.value&&a?p(vc(vc({},f),{},{attemptedEmpty:!0})):(l(f.value),p(vc(vc({},f),{},{value:f.value,editing:!1}))))},Escape:h})}),d&&(0,te.jsx)("span",{className:dc.error,children:d})]}):c((0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("span",{children:o}),(0,te.jsx)(le,{name:"pencil",className:dc.edit,onClick:yc((function(){return p(vc(vc({},f),{},{editing:!0}))}))})]}))}xc.propTypes={value:ee().string.isRequired,validate:ee().func,required:ee().bool.isRequired,render:ee().func.isRequired,onUpdate:ee().func.isRequired},xc.defaultProps={required:!0};var wc=xc;function Oc(e){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(e)}function Sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(r),!0).forEach((function(t){Ec(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ec(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Oc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Oc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||Ac(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){if(e){if("string"==typeof e)return Ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ic(e,t):void 0}}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tc(e){var t=e.selected,r=e.options,n=e.onUpdate;return(0,te.jsx)("ul",{className:cc.layerList,children:r.map((function(e,r){return(0,te.jsx)("li",{"data-selected":t.includes(r),onClick:function(){return e=r,void n(t.includes(e)?t.filter((function(t){return t!==e})):[].concat(function(e){if(Array.isArray(e))return Ic(e)}(o=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||Ac(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]));var e,o},children:e})}))})}var Cc=function(e){var t=e.combo,r=e.onUpdate,o=Pc(dr(),1)[0].keyboard.keymap,i=Pc((0,n.useState)(Mr()(t,["timeoutMs","slowRelease","layers"])),2),a=i[0],c=i[1],l=o.layers.map((function(e){return e.name}));return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:function(){r(a)},children:[(0,te.jsxs)("h2",{children:["Customize [",(0,te.jsx)("code",{children:t.identifier}),"]"]}),(0,te.jsxs)("div",{children:[(0,te.jsxs)("div",{className:cc.field,children:[(0,te.jsx)("label",{htmlFor:"customize-combo-timeout",children:"Timeout (ms)"}),(0,te.jsx)("input",{id:"customize-combo-timeout",type:"number",placeholder:"Default",value:a.timeoutMs,onChange:function(e){return c((function(t){return kc(kc({},t),{},{timeoutMs:""===e.target.value?void 0:Number(e.target.value)})}))}})]}),(0,te.jsxs)("div",{className:cc.field,children:[(0,te.jsx)("label",{htmlFor:"customize-combo-slow-release",children:"Slow Release"}),(0,te.jsx)("input",{id:"customize-combo-slow-release",type:"checkbox",checked:a.slowRelease,onChange:function(e){return c((function(t){return kc(kc({},t),{},{slowRelease:e.target.checked})}))}})]}),(0,te.jsxs)("div",{className:cc.field,children:[(0,te.jsx)("label",{children:"Layers"}),(0,te.jsx)(Tc,{selected:a.layers||[],options:l,onUpdate:function(e){return c((function(t){return kc(kc({},t),{},{layers:e})}))}})]})]})]})})};function Dc(e){return Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(e)}function _c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(r),!0).forEach((function(t){Rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Dc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Dc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gc(e){var t=(0,n.useContext)(S).identifiers,r=Lc(dr("keyboard.keymap.combos"),2),o=r[0],i=r[1],a=Lc((0,n.useState)(null),2),c=a[0],l=a[1],u=e.layout;function s(e){return function(e){return e.length>31?"maximum length: 31":e.match(/^[^a-zA-Z]/)?"first character must be a letter":e.match(/[^a-zA-Z0-9,._+-]/)?"valid characters: a-zA-Z0-9,._+-":void 0}(e)||(t.includes(e)?'Cannot use existing identifier "'.concat(e,'"'):null)}return(0,te.jsxs)("div",{className:cc.main,children:[null!==c&&(0,te.jsx)(Cc,{combo:o[c],onUpdate:function(e){return function(e,t){l(null),i({type:"CUSTOMIZE_COMBO",index:e,config:t})}(c,e)}}),(0,te.jsxs)("div",{className:cc.sidebar,children:[(0,te.jsxs)(bt,{external:!0,href:"https://zmk.dev/docs/features/combos",children:[(0,te.jsx)(le,{name:"book"})," ZMK Docs: Combos"]}),(0,te.jsx)(at,{onClick:function(){i({type:"CREATE_COMBO"})},children:"Add New Combo"})]}),(0,te.jsx)("div",{className:cc.comboPanel,children:o.map((function(e,t){return(0,te.jsxs)("div",{className:cc.combo,children:[(0,te.jsxs)("div",{className:cc.heading,children:[(0,te.jsx)(wc,{value:e.identifier,validate:s,render:function(e){return(0,te.jsx)("h5",{children:(0,te.jsx)("code",{children:e})})},onUpdate:function(e){return function(e,t){i({type:"RENAME_COMBO",index:e,name:t})}(t,e)}}),(0,te.jsxs)("div",{className:cc.actions,children:[(0,te.jsx)(le,{name:"wrench",className:"".concat(cc.action),onClick:function(){return l(t)}}),(0,te.jsx)(le,{name:"trash-can",className:"".concat(cc.action," ").concat(cc.remove),onClick:function(){i({type:"DELETE_COMBO",index:t})}})]})]}),(0,te.jsxs)("div",{className:cc.detail,children:[(0,te.jsx)("div",{className:cc.comboOutput,children:(0,te.jsx)(Aa,Nc(Nc({},e.bindings[0]),{},{onUpdate:function(e){!function(e,t){i({type:"UPDATE_COMBO_BINDING",comboIndex:e,bindings:[t]})}(t,e)}}))}),(0,te.jsx)(sc,{layout:u,keyPositions:e.keyPositions,onUpdate:function(e){return function(e,t){i({type:"UPDATE_COMBO_KEYPOSITIONS",comboIndex:e,keyPositions:t})}(t,e)}})]})]},t)}))})]})}Gc.propTypes={layout:Yr.isRequired};var Bc=Gc;function Zc(e){return["&macro_tap","&macro_press","&macro_release","&macro_tap_time","&macro_wait_time","&macro_pause_for_release"].includes(e.value)}var Kc=r(96201),Uc={};Uc.styleTagTransform=b(),Uc.setAttributes=p(),Uc.insert=s().bind(null,"head"),Uc.domAPI=l(),Uc.insertStyleElement=y(),a()(Kc.Z,Uc);var zc=Kc.Z&&Kc.Z.locals?Kc.Z.locals:void 0,qc=r(18446),Fc=r.n(qc),Vc=r(35839),Wc={};Wc.styleTagTransform=b(),Wc.setAttributes=p(),Wc.insert=s().bind(null,"head"),Wc.domAPI=l(),Wc.insertStyleElement=y(),a()(Vc.Z,Wc);var Qc=Vc.Z&&Vc.Z.locals?Vc.Z.locals:void 0,Yc=["bindings","children","dragging","dragMode"],Jc=["isDropping","control","classes"],Xc=["bind"],Hc=["bind"],$c=["row","isDropping"];function el(e){return el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(e)}function tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||rl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rl(e,t){if(e){if("string"==typeof e)return nl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nl(e,t):void 0}}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ol(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?il(Object(r),!0).forEach((function(t){cl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):il(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==el(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==el(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===el(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ll(e){var t=e.bindings,r=(e.children,e.dragging),o=e.dragMode,i=ol(e,Yc),a=tl((0,n.useState)([null,null]),2),c=a[0],l=a[1],u=(0,n.useMemo)((function(){return function(e){return e.reduce((function(e,t,r){var n=function(){return 0===e.at(-1).length};return(Zc(t)&&!n()||!n()&&Zc(e.at(-1)[0])||6===e.at(-1).length)&&e.push([]),e.at(-1).push(al(al({},t),{},{index:r})),e}),[[]])}(t)}),[t]);function s(e){console.log("enter",e),l((function(){return e}))}function f(e){return Fc()(c,e)}function p(e){l((function(t){return console.log("leaving",e,"currently in",t),Fc()(t,e)?[null,null]:t}))}function d(){console.log("handleDrop",c);var e=tl(c,3),r=e[0],n=e[1],o=e[2],a=u[r][n].index,l=a<t.length-1?a+1:-1;i.onDrop(1===o?l:a)}return r&&(0,te.jsxs)("div",{className:[Qc.dropTargets,r?Qc.dragging:"","row"===o?Qc.dropRowOnly:""].join(" "),children:[u.map((function(e,t){return(0,te.jsxs)(n.Fragment,{children:[(0,te.jsx)(pl,{row:e,isDropping:f([t,0,-1]),onDragEnter:function(){return s([t,0,-1])},onDragLeave:function(){return p([t,0,-1])},onDrop:d}),e.map((function(r,o){return(0,te.jsxs)(n.Fragment,{children:[(0,te.jsx)(sl,{bind:r,isDropping:f([t,o,0]),onDragEnter:function(){return s([t,o,0])},onDragLeave:function(){return p([t,o,0])},onDrop:d}),(0,te.jsx)(fl,{bind:r,isDropping:f([t,o,1]),onDragEnter:function(){return s([t,o,1])},onDragLeave:function(){return p([t,o,1])},onDrop:d,"data-extend":Zc(r)||o!==e.length-1?0:Math.max(0,5-o)})]},o)}))]},t)})),(0,te.jsx)(pl,{row:u.length-1,isDropping:f([u.length-1,u.at(-1).length-1,1]),onDragEnter:function(){return s([u.length-1,u.at(-1).length-1,1])},onDragLeave:function(){return p([u.length-1,u.at(-1).length-1,1])},onDrop:d})]})}function ul(e){var t,r=e.isDropping,n=e.control,o=void 0!==n&&n,i=e.classes,a=void 0===i?[]:i,c=ol(e,Jc);return(0,te.jsx)("div",al({"data-is-control":o,className:[Qc.dropTargetHalf,r?Qc.droppable:""].concat((t=a,function(e){if(Array.isArray(e))return nl(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||rl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).join(" ")},c))}function sl(e){var t=e.bind,r=ol(e,Xc);return(0,te.jsx)(ul,al({control:Zc(t)},r))}function fl(e){var t=e.bind,r=ol(e,Hc);return(0,te.jsx)(ul,al({control:Zc(t),classes:[Qc.secondHalf]},r))}function pl(e){e.row;var t=e.isDropping,r=ol(e,$c);return(0,te.jsx)("div",al({"data-drop-mode":"row",className:[Qc.dropTargetRow,t?Qc.droppable:""].join(" ")},r))}function dl(e,t){if(e){if("string"==typeof e)return yl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yl(e,t):void 0}}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hl=function(e){return{value:"&kp",params:[{value:e,params:[]}]}},bl=[{pattern:/[0-9]/,convert:function(e){return hl("N".concat(e))}},{pattern:/[a-z]/,convert:function(e){return hl(e.toUpperCase())}},{pattern:/[A-Z]/,convert:function(e){return{value:"&kp",params:[{value:"LS",params:[{value:e.toUpperCase(),params:[]}]}]}}}],ml={"!":hl("EXCL"),"@":hl("AT"),"#":hl("POUND"),$:hl("DLLR"),"%":hl("PRCNT"),"^":hl("CARET"),"&":hl("AMPS"),"*":hl("STAR"),"(":hl("LPAR"),")":hl("RPAR"),"\n":hl("RET")," ":hl("SPACE"),"-":hl("MINUS"),_:hl("UNDER"),"=":hl("EQUAL"),"+":hl("PLUS"),"[":hl("LBKT"),"]":hl("LBRC"),"{":hl("RBKT"),"}":hl("RBRC"),"\\":hl("BSLH"),"|":hl("PIPE"),"":hl("TILDE2"),";":hl("SEMI"),":":hl("COLON"),"'":hl("SQT"),'"':hl("DQT"),"`":hl("GRAVE"),"~":hl("TILDE"),",":hl("COMMA"),"<":hl("LT"),".":hl("DOT"),">":hl("GT"),"/":hl("FSLH"),"?":hl("QMARK")};var vl=function(e){var t,r,o=e.onClose,i=(0,n.useContext)(S),a=i.sources,c=i.mergedGlyphs,l=(t=(0,n.useState)("Type something..."),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||dl(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],s=l[1],f=(0,n.useMemo)((function(){return u.split("").reduce((function(e,t){var r=function(e){if(ml[e])return ml[e];var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=dl(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(bl);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.pattern,i=n.convert;if(e.match(o))return i(e)}}catch(e){r.e(e)}finally{r.f()}}(t);return r&&e.push(r),e}),[])}),[u]).map((function(e){return Ni(e.value,e.params,a,void 0,c)})),p=(0,n.useCallback)((function(e){e&&(e.focus(),e.select())}),[]);return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{dismissText:!1,children:[(0,te.jsx)("h2",{children:"Create Typing Sequence"}),(0,te.jsx)("p",{children:"Type a message to generate a sequence of bindings in the macro."}),(0,te.jsx)("textarea",{value:u,ref:p,style:{width:"100%",height:"6rem"},onChange:function(e){return s(e.target.value)}}),(0,te.jsx)("div",{className:zc.macroBindings,children:f.map((function(e,t){return(0,te.jsx)(n.Fragment,{children:(0,te.jsx)(gn,{selectable:!1,children:(0,te.jsx)(Oi,{node:e.params[0],onSelect:function(){}})})},t)}))}),(0,te.jsxs)("div",{className:zc.macroActions,children:[(0,te.jsx)(at,{onClick:function(){return o(f)},children:"Add to macro"}),(0,te.jsx)(at,{onClick:function(){return o([])},secondary:!0,children:"Cancel"})]})]})})};function gl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||jl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jl(e,t){if(e){if("string"==typeof e)return xl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xl(e,t):void 0}}function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wl(e){var t=e.macroIndex,r=e.bindings,o=e.dispatch,i=gl((0,n.useState)(null),2),a=i[0],c=i[1],l=gl((0,n.useState)(!1),2),u=l[0],s=l[1];return(0,n.useEffect)((function(){function e(){c(null)}function t(e){e.stopPropagation(),e.preventDefault()}return document.body.addEventListener("drop",e),document.body.addEventListener("dragover",t),function(){document.body.removeEventListener("drop",e),document.body.removeEventListener("dragover",t)}}),[c]),(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{className:zc.macroBindings,children:[r.map((function(e,i){return(0,te.jsx)(n.Fragment,{children:(0,te.jsxs)(gn,{"data-index":i,themeClass:Zc(e)?zc.controlBinding:"",draggable:!0,onDragStart:function(e){return function(e,t){if(e.dataTransfer.items.length)e.dataTransfer.clearData();else{var n=r[t];c({index:t,mode:Zc(n)?"row":"col",isControlBinding:Zc(n)})}}(e,i)},children:[(0,te.jsx)(Aa,{context:Zc(e)?"macros":void 0,value:e.value,params:e.params,onUpdate:function(e){o({type:"UPDATE_MACRO_BINDING",macroIndex:t,bindIndex:i,binding:e})}}),(0,te.jsx)("div",{className:zc.actions,children:(0,te.jsx)(le,{name:"trash",className:zc.deleteBind,onClick:yc((function(){return o({type:"DELETE_MACRO_BINDING",macroIndex:t,bindIndex:i})}))})})]},i)},i)})),(0,te.jsx)(ll,{dragging:a,bindings:r,onDrop:function(e){o({type:"REORDER_MACRO_BINDING",macroIndex:t,bindIndex:a.index,targetIndex:e}),c(null)}})]}),u&&(0,te.jsx)(vl,{onClose:function(e){s(!1);var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=jl(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;o({type:"ADD_MACRO_KEY_BINDING",macroIndex:t,binding:i})}}catch(e){n.e(e)}finally{n.f()}}}),(0,te.jsxs)("div",{className:zc.macroActions,children:[(0,te.jsx)(at,{onClick:function(){return o({type:"ADD_MACRO_CONTROL_BINDING",macroIndex:t})},children:"Add Control Binding"}),(0,te.jsx)(at,{onClick:function(){return o({type:"ADD_MACRO_KEY_BINDING",binding:{value:"&kp",params:[]},macroIndex:t})},children:"Add Key Binding"}),(0,te.jsx)(at,{onClick:function(){return s(!0)},children:"Add String Sequence"})]})]})}wl.propTypes={bindings:ee().array.isRequired,macroIndex:ee().number.isRequired,dispatch:ee().func.isRequired};var Ol=wl;function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(r),!0).forEach((function(t){Pl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Sl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Sl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Il=function(e){var t,r,o=e.macro,i=e.onUpdate,a=(t=(0,n.useState)(Mr()(o,["label","waitMs","tapMs"])),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Al(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Al(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:function(){i(c)},children:[(0,te.jsxs)("h2",{children:["Customize [",(0,te.jsx)("code",{children:o.identifier}),"]"]}),(0,te.jsxs)("div",{children:[(0,te.jsxs)("div",{className:zc.field,children:[(0,te.jsx)("label",{htmlFor:"customize-macro-label",children:"Label"}),(0,te.jsx)("input",{id:"customize-macro-label",value:c.label,onChange:function(e){return l((function(t){return El(El({},t),{},{label:e.target.value})}))}})]}),(0,te.jsxs)("div",{className:zc.field,children:[(0,te.jsx)("label",{htmlFor:"customize-macro-wait",children:"Wait (ms)"}),(0,te.jsx)("input",{id:"customize-macro-wait",type:"number",placeholder:"Default",value:c.waitMs,onChange:function(e){return l((function(t){return El(El({},t),{},{waitMs:""===e.target.value?void 0:Number(e.target.value)})}))}})]}),(0,te.jsxs)("div",{className:zc.field,children:[(0,te.jsx)("label",{htmlFor:"customize-macro-tap",children:"Tap (ms)"}),(0,te.jsx)("input",{id:"customize-macro-tap",type:"number",placeholder:"Default",value:c.tapMs,onChange:function(e){return l((function(t){return El(El({},t),{},{tapMs:""===e.target.value?void 0:Number(e.target.value)})}))}})]})]})]})})};function Tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cl(e){var t,r,o=e.index,i=e.macro,a=e.dispatch,c=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Tl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tl(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],u=c[1],s=(0,n.useContext)(S).identifiers;return(0,te.jsxs)("div",{className:zc.macro,children:[l&&(0,te.jsx)(Il,{macro:i,onUpdate:function(e){u(!1),a({type:"CUSTOMIZE_MACRO_OPTIONS",macroIndex:o,options:e})}}),(0,te.jsxs)("div",{className:zc.heading,children:[(0,te.jsx)(wc,{value:i.identifier,validate:function(e){return function(e){return e.length>31?"maximum length: 31":e.match(/^[^a-zA-Z]/)?"first character must be a letter":e.match(/[^a-zA-Z0-9_]/)?"valid characters: a-zA-Z0-9_":void 0}(e)||(s.includes(e)?'Cannot use existing identifier "'.concat(e,'"'):null)},render:function(e){return(0,te.jsx)("h5",{children:(0,te.jsx)("code",{children:e})})},onUpdate:function(e){return a({type:"RENAME_MACRO",index:o,name:e})}}),(0,te.jsxs)("div",{children:[(0,te.jsx)(le,{name:"wrench",className:"".concat(zc.action),onClick:function(){return u(!0)}}),(0,te.jsx)(le,{name:"trash-can",className:"".concat(zc.action," ").concat(zc.remove),onClick:function(){return a({type:"DELETE_MACRO",index:o})}})]})]}),(0,te.jsx)(Ol,{macroIndex:o,bindings:i.bindings,dispatch:a})]})}Cl.propTypes={index:ee().number.isRequired,macro:ee().shape({identifier:ee().string,bindings:ee().array.isRequired}).isRequired,dispatch:ee().func.isRequired};var Dl=Cl;function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nl=function(){var e,t,r=(e=dr("keyboard.keymap.macros"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1];return(0,te.jsxs)("div",{className:zc.main,children:[(0,te.jsxs)("div",{className:zc.sidebar,children:[(0,te.jsxs)(bt,{external:!0,href:"https://zmk.dev/docs/behaviors/macros",children:[(0,te.jsx)(le,{name:"book"})," ZMK Docs: Macros"]}),(0,te.jsx)(at,{onClick:function(){return o({type:"ADD_MACRO"})},children:"Add New Macro"}),(0,te.jsxs)("div",{className:zc.betaDisclaimer,children:[(0,te.jsx)("h3",{children:"Beta Notes"}),(0,te.jsx)("p",{children:"Macro editing is still in beta. Please report any issues to the project on GitHub."}),(0,te.jsxs)("p",{children:["Note that the editor will only look at macros defined in your",(0,te.jsx)("code",{children:".keymap"})," file at this time, and will not import included files like ",(0,te.jsx)("code",{children:"macros.dtsi"}),"."]})]})]}),n.map((function(e,t){return(0,te.jsx)(Dl,{macro:e,index:t,dispatch:o},t)}))]})};function Rl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ll(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ll(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ml(e){var t=(0,n.useRef)(null),r=e.activeLayer,o=e.layers,i=e.onSelect,a=e.onNewLayer,c=e.onRenameLayer,l=e.onDeleteLayer,u=Rl((0,n.useState)(!1),2),s=u[0],f=u[1],p=Rl((0,n.useState)(""),2),d=p[0],y=p[1],h=(0,n.useMemo)((function(){return function(e){if(e===r)return y(o[r].name),void f(!0);f(!1),i(e)}}),[o,r,y,f,i]),b=(0,n.useMemo)((function(){return function(){a()}}),[a]),m=(0,n.useMemo)((function(){return function(e,t){var r="Really delete layer: ".concat(t,"?");window.confirm(r)&&l(e)}}),[l]),v=(0,n.useCallback)((function(){s&&(y(""),f(!1),c(d))}),[d,s,y,f,c]),g=(0,n.useCallback)((function(){s&&(y(""),f(!1))}),[s,y,f]),j=(0,n.useMemo)((function(){return function(e){t.current&&!t.current.contains(e.target)&&g()}}),[t,g]);(0,n.useEffect)((function(){return document.addEventListener("click",j),function(){return document.removeEventListener("click",j)}}),[j]);var x=(0,n.useCallback)((function(e){e&&(e.focus(),e.select())}),[]);return(0,te.jsxs)("div",{className:Zr["layer-selector"],"data-renaming":s,ref:t,children:[(0,te.jsx)("h3",{children:"Layers"}),(0,te.jsxs)("ul",{children:[o.map((function(e,t){var n=e.name;return(0,te.jsxs)("li",{className:r===t?Zr.active:"","data-layer":t,onClick:yc((function(){return h(t)})),children:[(0,te.jsx)("span",{className:Zr.index,children:t}),r===t&&s?(0,te.jsx)("input",{ref:x,className:Zr.name,onChange:function(e){return y(e.target.value)},onKeyDown:hc({Enter:v,Escape:g}),value:r===t&&s?d:n}):(0,te.jsxs)("span",{className:Zr.name,children:[n,(0,te.jsx)(le,{name:"times-circle",className:Zr.delete,onClick:yc((function(){return m(t,n)}))})]})]},"layer-".concat(t))})),(0,te.jsxs)("li",{onClick:b,children:[(0,te.jsx)(le,{className:Zr.index,name:"plus"}),(0,te.jsx)("span",{className:Zr.name,children:"Add Layer"})]})]})]})}Ml.propTypes={activeLayer:ee().number.isRequired,onSelect:ee().func.isRequired,onNewLayer:ee().func.isRequired,onRenameLayer:ee().func.isRequired,onDeleteLayer:ee().func.isRequired};var Gl=Ml;function Bl(e){var t=e.direction;return(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"65px",height:"65px",viewBox:"0 0 65 65",style:{position:"absolute",top:"-10px",stroke:"var(--key-color-base)",strokeWidth:2,fill:"none",display:"block",width:"65px",height:"65px",pointerEvents:"none"},children:(0,te.jsx)("path",{style:{transform:"scaleX(".concat("cw"===t?-1:1,") rotate(-45deg)"),transformOrigin:"center center"},d:"M 63 31 A 30 30 45 0 0 32.5 2 M 37 -2 L 32.5 2 L 37 6"})})}function Zl(e){var t=e.context,r=e.direction,n=e.params,o=e.onUpdate;return(0,te.jsxs)(gn,{themeClass:dn.encoder,children:[(0,te.jsx)(Bl,{direction:r}),(0,te.jsx)(Ea,{hideBehaviour:!0,context:t,value:"&kp",params:n,onUpdate:o})]})}Zl.propTypes={label:ee().string,value:Wo.isRequired,params:ee().arrayOf(Yo),onUpdate:ee().func.isRequired};var Kl=Zl;function Ul(e){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(e)}function zl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zl(Object(r),!0).forEach((function(t){Fl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ul(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ul(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ul(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ql=function(e){var t=e.layer,r=e.sensors,n=e.onUpdate,o=Vl(dr("keyboard.keymap"),1)[0].layers[t].sensorBindings,i=void 0===o?[]:o;function a(e,t,r){var o=r.params[0],a=i[e]||{value:"&inc_dec_kp",params:[{value:"",params:[]},{value:"",params:[]}]};n(e,ql(ql({},a),{},{params:At(a.params,t,o)}))}return(0,te.jsxs)("div",{style:{margin:"0 0 30px"},children:[(0,te.jsx)("h3",{children:"Sensor bindings"}),(0,te.jsx)("div",{style:{display:"flex",flexDirection:"row",gap:"25px"},children:r.map((function(e,t){var r,n=e.label||e.identifier,o=Vl((null===(r=i[t])||void 0===r?void 0:r.params)||[],2),c=o[0],l=o[1];return(0,te.jsxs)("div",{style:{display:"block"},children:[(0,te.jsx)("label",{style:{fontVariant:"small-caps",fontSize:"90%"},children:(0,te.jsx)("code",{children:n})}),(0,te.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5px",marginTop:"20px"},children:[(0,te.jsx)(Kl,{direction:"ccw",params:[l],onUpdate:function(e){return a(t,1,e)}}),(0,te.jsx)(Kl,{direction:"cw",params:[c],onUpdate:function(e){return a(t,0,e)}})]})]},t)}))})]})},Yl=r(52487),Jl={};Jl.styleTagTransform=b(),Jl.setAttributes=p(),Jl.insert=s().bind(null,"head"),Jl.domAPI=l(),Jl.insertStyleElement=y(),a()(Yl.Z,Jl);var Xl=Yl.Z&&Yl.Z.locals?Yl.Z.locals:void 0;function Hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $l(e){var t,r,o=e.actions,i=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Hl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hl(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];function l(e){c(!1),e()}return(0,te.jsxs)("div",{className:[Xl.quickChangeMenu,a&&Xl.open].join(" "),children:[(0,te.jsxs)("p",{onClick:function(){return c(!a)},children:["Quick Change ",(0,te.jsx)(le,{name:a?"caret-up":"caret-down"})]}),(0,te.jsxs)("ul",{children:[(0,te.jsxs)("li",{onClick:function(){return l(o.transparentToKeypress)},children:["Convert ",(0,te.jsx)("code",{children:"&trans"})," to ",(0,te.jsx)("code",{children:"&kp"})]}),(0,te.jsxs)("li",{onClick:function(){return l(o.transparentToNone)},children:["Convert ",(0,te.jsx)("code",{children:"&trans"})," to ",(0,te.jsx)("code",{children:"&none"})]}),(0,te.jsxs)("li",{onClick:function(){return l(o.noneToKeypress)},children:["Convert ",(0,te.jsx)("code",{children:"&none"})," to ",(0,te.jsx)("code",{children:"&kp"})]}),(0,te.jsxs)("li",{onClick:function(){return l(o.noneToTransparent)},children:["Convert ",(0,te.jsx)("code",{children:"&none"})," to ",(0,te.jsx)("code",{children:"&trans"})]}),(0,te.jsxs)("li",{onClick:function(){return l(o.emptyKeypressToTransparent)},children:["Convert ",(0,te.jsx)("code",{children:"&kp "})," to ",(0,te.jsx)("code",{children:"&trans"})]}),(0,te.jsxs)("li",{onClick:function(){return l(o.emptyKeypressToNone)},children:["Convert ",(0,te.jsx)("code",{children:"&kp "})," to ",(0,te.jsx)("code",{children:"&none"})]})]})]})}function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ru=function(e){var t=e.layout,r=e.sensors,o=eu(dr("keyboard.keymap"),2),i=o[0],a=o[1],c=eu((0,n.useState)(0),2),l=c[0],u=c[1],s=Math.max(0,Math.min(l,i.layers.length-1)),f=(0,n.useMemo)((function(){return Rr(t,{overrides:{minWidth:"400px"}})}),[t]),p=(0,n.useCallback)((function(){a({type:"CREATE_LAYER",bindingCount:t.length})}),[t,a]),d=(0,n.useCallback)((function(e,t){a({type:"RENAME_LAYER",index:e,name:t})}),[a]),y=(0,n.useCallback)((function(e){a({type:"DELETE_LAYER",index:e})}),[a]),h=(0,n.useCallback)((function(e,t){a({type:"UPDATE_KEY_BINDING",layerIndex:l,bindIndex:e,binding:t})}),[a,l]),b=(0,n.useCallback)((function(e,t){a({type:"UPDATE_SENSOR_BINDINGS",layerIndex:s,sensorIndex:e,bindings:t})}),[a,s]),m=(0,n.useMemo)((function(){return{transparentToKeypress:function(){return a({type:"REBIND_TRANSPARENT_TO_KEY_PRESS",layerIndex:l})},transparentToNone:function(){return a({type:"REBIND_TRANSPARENT_TO_NONE",layerIndex:l})},noneToKeypress:function(){return a({type:"REBIND_NONE_TO_KEYPRESS",layerIndex:l})},noneToTransparent:function(){return a({type:"REBIND_NONE_TO_TRANSPARENT",layerIndex:l})},emptyKeypressToTransparent:function(){return a({type:"REBIND_EMPTY_KEYPRESS_TO_TRANSPARENT",layerIndex:l})},emptyKeypressToNone:function(){return a({type:"REBIND_EMPTY_KEYPRESS_TO_NONE",layerIndex:l})}}}),[a,l]);return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Gl,{layers:i.layers,activeLayer:s,onSelect:u,onNewLayer:p,onRenameLayer:function(e){return d(l,e)},onDeleteLayer:y}),i.layers.length>0?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsxs)("div",{style:f,children:[(0,te.jsxs)("h3",{style:{position:"relative"},children:["Key Bindings ",(0,te.jsx)($l,{actions:m})]}),(0,te.jsx)(ln,{layout:t,bindings:i.layers[s].bindings,renderKey:function(e){var t,r,n=e.index,o=e.keyLayout;return i.layers[s].bindings[n]&&(0,te.jsx)(Aa,{label:o.label,highlight:!1,value:null===(t=i.layers[s].bindings[n])||void 0===t?void 0:t.value,params:null===(r=i.layers[s].bindings[n])||void 0===r?void 0:r.params,onUpdate:function(e){return h(n,e)}})}})]}),r.length>0&&(0,te.jsx)("div",{style:{width:f.width,minWidth:"400px",margin:f.margin,padding:f.padding},children:(0,te.jsx)(Ql,{sensors:r,layer:s,onUpdate:b})})]}):(0,te.jsx)(we,{centerOnly:!0,children:(0,te.jsxs)("div",{style:{textAlign:"center"},children:[(0,te.jsx)("h3",{children:"No keymap layers defined"}),(0,te.jsx)(at,{onClick:p,children:"Add layer"})]})})]})},nu=r(9669),ou=r.n(nu),iu=r(26729),au=r.n(iu);function cu(e){return cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(e)}function lu(){lu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==cu(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function uu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function su(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){uu(i,n,o,a,c,"next",e)}function c(e){uu(i,n,o,a,c,"throw",e)}a(void 0)}))}}function fu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bu(n.key),n)}}function pu(e,t){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pu(e,t)}function du(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yu(e)}function hu(e,t,r){return(t=bu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bu(e){var t=function(e,t){if("object"!==cu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cu(t)?t:String(t)}var mu="".concat(A.replace("http","ws"),"/github/events"),vu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pu(e,t)}(f,e);var t,r,n,o,i,a,c,l,u,s=(l=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yu(l);if(u){var r=yu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===cu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return du(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hu(du(e=s.call.apply(s,[this].concat(r))),"token",null),hu(du(e),"initializing",!1),hu(du(e),"installations",null),hu(du(e),"repositories",null),hu(du(e),"repoInstallationMap",null),hu(du(e),"features",null),hu(du(e),"socket",null),e}return t=f,r=[{key:"_request",value:(c=su(lu().mark((function e(t){var r;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t={url:t}),t.url.startsWith("/")&&(t.url="".concat(A).concat(t.url)),t.headers=Object.assign({},t.headers),this.token&&!t.headers.Authorization&&(t.headers.Authorization="Bearer ".concat(this.token)),e.prev=4,e.next=7,ou()(t);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),401===(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(console.error("Authentication failed."),this.emit("authentication-failed",e.t0.response)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return c.apply(this,arguments)})},{key:"init",value:function(){var e=this;return this.initializing||(this.initializing=su(lu().mark((function t(){var r,n,o,i,a,c;return lu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.initEvents(),r="".concat(A,"/github/installation"),(n=new URLSearchParams(window.location.search)).get("setup_action")&&n.get("installation_id")&&e.beginLoginFlow(),!n.get("blocked")){t.next=7;break}return setTimeout((function(){return e.emit("blocked")})),t.abrupt("return");case 7:if(o=n.get("token"),!window.localStorage.auth_token&&o&&(window.history.replaceState({},null,window.location.pathname),window.localStorage.auth_token=o),!window.localStorage.auth_token){t.next=22;break}return e.token=window.localStorage.auth_token,t.next=13,e._request(r);case 13:i=t.sent,a=i.data,c=a.installations.filter((function(e){return e.suspended_at})),a.installations.length===c.length&&(console.warn("No GitHub app installation found for authenticated user."),e.emit("app-not-installed")),e.username=a.username,e.installations=a.installations,e.repositories=a.repositories,e.repoInstallationMap=a.repoInstallationMap,e.emit("authenticated");case 22:case"end":return t.stop()}}),t)})))()),this.initializing}},{key:"initEvents",value:function(){var e=this,t=[],r=function(r){e.socket.readyState!==window.WebSocket.OPEN?(t.push(r),console.log("buffering websocket message",{readyState:e.socket.readyState},r)):e.socket.send(r)};this.socket=new window.WebSocket(mu),this.socket.onopen=function(){console.log(new Date,"connected to console"),function(){for(var r;r=t.shift();)console.log("sending buffered websocket message",r),e.socket.send(r)}(),setInterval((function(){r(JSON.stringify({message:"ping"}))}),2e4)},this.socket.onclose=function(){return console.log(new Date,"disconnected from server")},this.socket.onerror=function(e){return console.error(new Date,e)},this.socket.onmessage=function(t){var r=JSON.parse(t.data);"workflow_run"===r.event&&e.emit("build-update",r.workflow_run)},this.on("authenticated",(function(){var t;null!==(t=e.installations)&&void 0!==t&&t.length&&(e.fetchAvailableFeatures(),r(JSON.stringify({message:"authorize",data:e.token})))}))}},{key:"beginLoginFlow",value:function(){window.localStorage.removeItem("auth_token"),window.location.href="".concat(A,"/github/authorize")}},{key:"beginInstallAppFlow",value:function(){window.location.href="https://github.com/apps/".concat("zmk-keymap-editor","/installations/new")}},{key:"manageInstallationRepos",value:function(e){var t=this.installations.find((function(t){return t.id===e}));window.location.href=t.html_url}},{key:"isGitHubAuthorized",value:function(){return!!this.token}},{key:"isAppSuspendedForRepoSelection",value:function(){var e,t,r;return(null===(e=this.installations)||void 0===e?void 0:e.length)>0&&(null===(t=this.installations)||void 0===t?void 0:t.every((function(e){return e.suspended_at})))&&(null===(r=this.installations)||void 0===r?void 0:r.some((function(e){return"all"===e.repository_selection})))}},{key:"isAppInstalled",value:function(){var e,t;return(null===(e=this.installations)||void 0===e?void 0:e.length)&&(null===(t=this.repositories)||void 0===t?void 0:t.length)}},{key:"fetchRepoBranches",value:(a=su(lu().mark((function e(t){var r,n,o,i;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=encodeURIComponent(this.repoInstallationMap[t.full_name]),n=encodeURIComponent(t.full_name),e.next=4,this._request("/github/installation/".concat(r,"/").concat(n,"/branches"));case 4:return o=e.sent,i=o.data,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchLayoutAndKeymap",value:(i=su(lu().mark((function e(t,r){var n,o,i,a,c,l,u,s,f,p,d,y,h,b=arguments;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=b.length>2&&void 0!==b[2]?b[2]:{}).keyboard,i=n.attemptAutoLayout,a=void 0!==i&&i,c=encodeURIComponent(this.repoInstallationMap[t]),l=encodeURIComponent(t),u=new URL("".concat(A,"/github/keyboard-files/").concat(c,"/").concat(l)),s=new URLSearchParams,r&&s.set("branch",r),o&&s.set("keyboard",o),a&&s.set("attemptAutoLayout",a),u.search=s.toString(),e.prev=9,e.next=12,this._request(u.toString());case 12:return f=e.sent,p=f.data,d=p.info.layouts.default||p.info.layouts[Object.keys(p.info.layouts)[0]],e.abrupt("return",{layoutIsAutoGenerated:!!d.autoGenerated||!!d.autoGenerated_unsaved,layoutIsAutoGenerated_unsaved:!!d.autoGenerated_unsaved,layout:d.layout,keymap:p.keymap,keyboards:p.keyboards,default:p.defaultKeymap,sensors:p.sensors});case 18:throw e.prev=18,e.t0=e.catch(9),400===(null===(y=e.t0.response)||void 0===y?void 0:y.status)?(console.error("Failed to load keymap and layout from github",e.t0.response.data),this.emit("repo-validation-error",e.t0.response.data)):500===(null===(h=e.t0.response)||void 0===h?void 0:h.status)&&"LayoutGenerationError"===e.t0.response.data.name&&this.emit("layout-generation-failed",e.t0.response.data),e.t0;case 22:case"end":return e.stop()}}),e,this,[[9,18]])}))),function(e,t){return i.apply(this,arguments)})},{key:"fetchAvailableFeatures",value:(o=su(lu().mark((function e(){var t,r;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isGitHubAuthorized()){e.next=2;break}return e.abrupt("return",{betaFeatures:[]});case 2:return this.features||(this.features=this._request("".concat(A,"/github/features"))),e.next=5,this.features;case 5:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"fetchBuildStatus",value:(n=su(lu().mark((function e(t,r){var n,o,i,a,c;return lu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(this.repoInstallationMap[t]),o=encodeURIComponent(t),i=new URL("".concat(A,"/github/latest-run/").concat(n,"/").concat(o,"/").concat(r)),e.next=5,this._request(i.toString());case 5:return a=e.sent,c=a.data,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"commitChanges",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.message,a=void 0===i?null:i,c=o.experimentalSettings,l=void 0===c?{}:c,u=o.keyboard,s=encodeURIComponent(this.repoInstallationMap[e]),f=encodeURIComponent(e),p=new URL("".concat(A,"/github/keyboard-files/").concat(s,"/").concat(f,"/").concat(encodeURIComponent(t))),d=l.enableBehaviorEditing,y=void 0!==d&&d,h=new URLSearchParams({enableBehaviorEditing:y});return u&&h.set("keyboard",u),p.search=h.toString(),this._request({url:p.toString(),method:"POST",headers:{"Content-Type":"application/json"},data:{keyboard:u,layout:r,keymap:n,message:a,enableBehaviorEditing:y}})}}],r&&fu(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(au()),gu=new vu;function ju(e){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(e)}function xu(){xu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==ju(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function wu(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Su(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Su(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Su(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ku(e){var t=e.text,r=e.tabs,o=e.defaultTab,i=e.children,a=Ou((0,n.useState)(o),2),c=a[0],l=a[1];return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("h3",{style:{display:"inline"},children:t}),(0,te.jsx)("ul",{className:Zr.editorModeTabs,children:r.map((function(e,t){return(0,te.jsx)("li",{onClick:function(){return l(t)},className:c===t?Zr.activeEditTab:"",children:e},t)}))}),i[c]]})}function Eu(e){var t,r,o,i=Ou(dr(),1)[0].source,a=Ou(dr("keyboard.keymap"),1)[0],c=e.layout,l=e.sensors,u=(t=Ou((0,n.useState)({betaFeatures:[]}),2),r=t[0],o=t[1],(0,n.useEffect)((function(){var e;(e=xu().mark((function e(){return xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,gu.fetchAvailableFeatures();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){wu(i,n,o,a,c,"next",e)}function c(e){wu(i,n,o,a,c,"throw",e)}a(void 0)}))})()}),[o]),r).betaFeatures,s=(0,E.compact)([{name:"keymap",component:(0,te.jsx)(ru,{layout:c,sensors:l})},{name:"combos",component:(0,te.jsx)(Bc,{layout:c})},{name:"macros",component:(0,te.jsx)(Nl,{})},("local"===i||u.includes("behaviorEditing"))&&{name:"behaviors",component:(0,te.jsx)(oc,{})}]),f=(0,E.map)(s,"name");return(0,te.jsx)(Je,{keymap:a,children:(0,te.jsx)(ku,{text:"Editor mode:",tabs:f,defaultTab:0,children:s.map((function(e){return(0,te.jsx)(n.Fragment,{children:e.component},e.name)}))})})}Eu.propTypes={layout:Yr.isRequired};var Pu=Eu,Au=r(2746),Iu={};Iu.styleTagTransform=b(),Iu.setAttributes=p(),Iu.insert=s().bind(null,"head"),Iu.domAPI=l(),Iu.insertStyleElement=y(),a()(Au.Z,Iu);var Tu=Au.Z&&Au.Z.locals?Au.Z.locals:void 0,Cu="https://github.com/nickcoutsos/keymap-editor";function Du(){return(0,te.jsxs)("div",{className:Tu.wrapper,children:[(0,te.jsx)("label",{children:"Need help? Open an issue:"}),(0,te.jsxs)("a",{className:Tu.githubLink,target:"_blank",rel:"noreferrer",href:Cu,children:[(0,te.jsx)(le,{collection:"brands",name:"github"}),"/nickcoutsos/keymap-editor"]})]})}function _u(e){return _u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(e)}function Nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(r),!0).forEach((function(t){Lu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mu={description:{fontStyle:"italic",fontSize:"90%"}};function Gu(e){var t=e.settings,r=e.onUpdate,n=e.onClose;function o(e,n){r(Ru(Ru({},t),{},Lu({},e,n)))}return(0,te.jsx)(we,{onDismiss:n,children:(0,te.jsxs)(wr,{onDismiss:n,children:[(0,te.jsx)("h1",{children:"Settings"}),(0,te.jsx)("h2",{children:"Keycode glyphs"}),(0,te.jsx)("h3",{children:(0,te.jsxs)("label",{htmlFor:"enable-unicode-glyphs",children:[(0,te.jsx)("input",{id:"enable-unicode-glyphs",type:"checkbox",checked:t.unicodeGlyphs,onChange:function(e){return o("unicodeGlyphs",e.target.checked)}}),"Use Unicode Glyphs"]})}),(0,te.jsxs)("p",{style:Mu.description,children:["Use unicode glyphs for visual representations of keycodes like ",(0,te.jsx)("code",{children:"Enter"})," (), ",(0,te.jsx)("code",{children:"Right Arrow"})," (), etc. You can disable this if the symbols don't render correctly."]}),(0,te.jsx)("h3",{children:(0,te.jsxs)("label",{htmlFor:"platform-specific-glyphs",children:["Platform specific glyphs",(0,te.jsxs)("select",{id:"platform-specific-glyphs",value:t.platformGlyphs||"auto",onChange:function(e){return o("platformGlyphs",e.target.value)},children:[(0,te.jsx)("option",{value:"auto",children:"Automatic"}),(0,te.jsx)("option",{value:"win",children:"Windows"}),(0,te.jsx)("option",{value:"mac",children:"macOS"})]})]})}),(0,te.jsxs)("p",{style:Mu.description,children:["Render symbols specific to your platform. E.g., render left/right meta key as ",(0,te.jsx)(le,{name:"windows fa-brands"})," for Windows, or  for macOS."]})]})})}Gu.propTypes={settings:ee().object.isRequired,onUpdate:ee().func.isRequired,onClose:ee().func.isRequired},Gu.defaultProps={settings:{}};var Bu=Gu,Zu={selector:{display:"inline-block",width:"auto",margin:"5px"},label:{display:"block",width:"100%",fontSize:"120%",color:"var(--fg)"}};function Ku(e){var t=e.id,r=e.label,n=e.value,o=e.choices,i=e.onUpdate;return(0,te.jsxs)("div",{style:Zu.selector,children:[(0,te.jsx)("label",{htmlFor:t,style:Zu.label,children:r}),(0,te.jsx)("select",{id:t,onChange:function(e){var t=e.target.value,r=o[t];i(r.id,r)},value:function(e){var t=o.findIndex((function(t){return t.id===e}));return-1===t?"":t}(n),children:o.map((function(e,t){var r=e.name;return(0,te.jsx)("option",{value:t,children:r},t)}))})]})}function Uu(e){var t=e.onDismiss,r=(0,te.jsx)(bt,{external:!0,href:"https://discord.com/users/115507966555193345",children:"Discord"});return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:t,children:[(0,te.jsx)("h2",{children:"Could not parse keymap"}),(0,te.jsx)("p",{children:"It looks like some bindings in your keymap are using custom pre-processor macros which isn't supported by the Keymap Editor. These macros make it difficult both to resolve bindings to behaviors and parameters, as well as to generate modified keymap code that is consistent with your original intentions."}),(0,te.jsx)("p",{children:"Please either continue editing your keymap by hand with these helpers or if you would like to use this editor, rewrite the keymap to use ZMK's syntax directly."}),(0,te.jsxs)("p",{children:["If you feel this is incorrect or wish to discuss the issue please feel free to reach out via the Keymap Editor's GitHub repository or find me on ",r,"."]})]})})}Uu.propTypes={onDismiss:ee().func.isRequired};var zu=Uu;function qu(e){var t=e.onDismiss;return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:t,children:[(0,te.jsx)("h2",{children:"Could not parse Miryoku keymap"}),(0,te.jsx)("p",{children:"It looks like your keyboard is built using Miryoku to manage the configuration and keymap. Parsing and editing keymaps that use this syntax is unsupported by the Keymap Editor."}),(0,te.jsx)("p",{children:"Please either continue editing your keymap by hand with these helpers or if you would like to use this editor, rewrite the keymap to use ZMK's syntax directly."})]})})}qu.propTypes={onDismiss:ee().func.isRequired};var Fu=qu;function Vu(e){var t=e.onDismiss;return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:t,children:[(0,te.jsx)("h2",{children:"Could not parse keymap"}),(0,te.jsxs)("p",{children:["Detected use of ",(0,te.jsx)("code",{children:"zmk-nodefree-config"})]}),(0,te.jsx)("p",{children:"It looks like your keymap is built using helper functions from the zmk-nodefree-config library to replace devicetree syntax. Parsing and editing keymaps that use this syntax is unsupported by the Keymap Editor."}),(0,te.jsx)("p",{children:"Please either continue editing your keymap by hand with these helpers or if you would like to use this editor, rewrite the keymap to use ZMK's syntax directly."})]})})}Vu.propTypes={onDismiss:ee().func.isRequired};var Wu=Vu;function Qu(e){return Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(e)}function Yu(){Yu=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Qu(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ju(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Xu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ju(i,n,o,a,c,"next",e)}function c(e){Ju(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Hu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var es=function(e){var t=e.onSelect,r=Hu((0,n.useState)([]),2),o=r[0],i=r[1],a=Hu((0,n.useState)(null),2),c=a[0],l=a[1],u=Hu((0,n.useState)([]),2),s=u[0],f=u[1],p=(0,n.useMemo)((function(){return o.map((function(e){return{id:e,name:e}}))}),[o]);(0,n.useEffect)((function(){Xu(Yu().mark((function e(){var t;return Yu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:t=e.sent,i(t),l(t[0]);case 5:case"end":return e.stop()}}),e)})))()}),[i,l]),(0,n.useEffect)((function(){Xu(Yu().mark((function e(){var r,n,o,i,a;return Yu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=11;break}return e.next=3,z(c);case 3:if(n=e.sent,o=n.layout,i=n.keymap,a=n.sensors,null===(r=i.warningFlags)||void 0===r||!r.length){e.next=10;break}return f(i.warningFlags),e.abrupt("return");case 10:t({source:"local",keyboard:c,layout:o,keymap:i,sensors:a});case 11:case"end":return e.stop()}}),e)})))()}),[t,f,c]);var d=s.includes("USING_ZMK_NODEFREE_MACROS"),y=s.includes("USING_MIRYOKU_DTSI"),h=s.includes("USING_NON_ZMK_MACRO"),b=(0,n.useCallback)((function(){l(null),f([])}),[l,f]);return o.length<2?null:d?(0,te.jsx)(Wu,{onDismiss:b}):y?(0,te.jsx)(Fu,{onDismiss:b}):h?(0,te.jsx)(zu,{onDismiss:b}):(0,te.jsx)(Ku,{id:"keyboard",label:"Keyboard",value:c,choices:p,onUpdate:l})};function ts(e){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(e)}function rs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(r),!0).forEach((function(t){os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function os(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ts(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ts(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function is(e){var t=(0,te.jsx)(bt,{href:"https://github.com/nickcoutsos/zmk-config-corne-demo",external:!0,children:"GitHub Repo"});return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,ns(ns({},e),{},{children:[(0,te.jsx)("h2",{children:"Keymap Editor Demo"}),(0,te.jsx)("p",{children:"Welcome! This demo keyboard is provided to let you experiment with the keymap editor before setting up your own repository."}),(0,te.jsx)("h3",{children:"Features"}),(0,te.jsxs)("ul",{children:[(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:"WYSIWYG Editing"}),". Just click on key and behaviour bindings to make changes, add or remove layers in the sidebar."]}),(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:"Keymap generation"}),". The editor can export keymap to ZMK's syntax (when running locally or integrated with GitHub), and will even attempt to format the ",(0,te.jsx)("code",{children:".keymap"})," file for better readability."]}),(0,te.jsxs)("li",{children:[(0,te.jsx)("strong",{children:"Devicetree parsing"}),". ",(0,te.jsx)("em",{children:"(Experimental!)"})," Read and write to your existing ZMK ",(0,te.jsx)("code",{children:".keymap"})," file so that you can still use ZMK features that the app doesn't support yet."]})]}),(0,te.jsx)("h3",{children:"What's next?"}),(0,te.jsxs)("p",{children:["If you like the editor, try integrating with your own GitHub hosted keyboard config. ",(0,te.jsx)(bt,{href:"https://github.com/nickcoutsos/zmk-config-corne-demo/generate",external:!0,children:"Use it as a template"})," for your own, or just read through the ",t," for this keyboard to learn what to apply to your existing keyboard."]})]}))})}var as=r(33971),cs={};cs.styleTagTransform=b(),cs.setAttributes=p(),cs.insert=s().bind(null,"head"),cs.domAPI=l(),cs.insertStyleElement=y(),a()(as.Z,cs);var ls=as.Z&&as.Z.locals?as.Z.locals:void 0;function us(e){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(e)}function ss(){ss=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==us(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function fs(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ps(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ds=function(e){var t,o,i=e.onSelect,a=(t=(0,n.useState)(!1),o=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,o)||function(e,t){if(e){if("string"==typeof e)return ps(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ps(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,n.useEffect)((function(){var e;(e=ss().mark((function e(){var t,n,o;return ss().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(873).then(r.t.bind(r,18873,19));case 2:t=e.sent,n=t.layout,o=t.keymap,i({source:"demo",layout:n,keymap:o});case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fs(i,n,o,a,c,"next",e)}function c(e){fs(i,n,o,a,c,"throw",e)}a(void 0)}))})()}),[]),(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(ye,{icon:"info",className:ls.help,onClick:function(){return l(!0)}}),c&&(0,te.jsx)(is,{onDismiss:function(){return l(!1)}})]})},ys=r(13311),hs=r.n(ys),bs="selectedGithubRepository",ms="selectedGithubBranch";function vs(e){try{return JSON.parse(localStorage.getItem("".concat(ms,":").concat(e)))}catch(e){return null}}var gs={maxHeight:"300px",overflow:"auto",padding:"10px",fontFamily:"monospace",fontSize:"80%",backgroundColor:"rgb(239, 239, 239, 0.5)"},js={margin:"10px"};function xs(e){var t=e.onDismiss,r=e.title,n=e.errors,o=e.otherRepoOrBranchAvailable,i=void 0!==o&&o,a=function(e){return"InfoValidationError"===e?"config/info.json":"KeymapValidationError"===e?"config/keymap.json":void 0}(r);return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:t,children:[(0,te.jsx)("h2",{children:r}),a&&(0,te.jsxs)("p",{children:["Errors in the file ",(0,te.jsx)("code",{children:a}),"."]}),(0,te.jsx)("ul",{style:gs,children:n.map((function(e,t){return(0,te.jsx)("li",{style:js,children:e},t)}))}),i&&(0,te.jsx)("p",{children:"If you have another branch or repository with the required metadata files you may switch to them instead."})]})})}function ws(e){return ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(e)}function Os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(r),!0).forEach((function(t){ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Os(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ks(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ws(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ws(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Es={color:"royalblue",textDecoration:"underline",cursor:"pointer"};function Ps(e){var t=(0,n.useContext)(k).openSettingsDialog,r=(0,te.jsx)("span",{onClick:t,style:Es,children:"Settings"});return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,Ss(Ss({},e),{},{children:[(0,te.jsx)("h2",{children:"Missing Layout"}),(0,te.jsxs)("p",{children:["Hi there! The repository you're trying to load from doesn't have a defined ",(0,te.jsx)("code",{children:"config/info.json"})," file which provides the layout metadata needed to render keymaps."]}),(0,te.jsx)("p",{children:"If you don't want to make your own layout right away you can let Keymap Editor attempt to generate one automatically based the matrix transform in your zmk-config's devicetree code."}),(0,te.jsxs)("p",{children:["See the ",r," dialog for more details."]})]}))})}Ps.propTypes={};var As=Ps;function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function Ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(r),!0).forEach((function(t){Ds(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ts(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ds(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Is(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Is(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _s="https://github.com/nickcoutsos/keymap-editor/wiki/Defining-keyboard-layouts";function Ns(e){var t=(0,te.jsx)(bt,{href:_s,external:!0,children:"Keymap Editor Wiki: Defining keyboard layouts"});return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,Cs(Cs({},e),{},{children:[(0,te.jsx)("h2",{children:"This layout was Auto-Generated"}),(0,te.jsxs)("p",{children:["Hi there! Your repository didn't include a layout definition in the ",(0,te.jsx)("code",{children:"info.json"})," file, so the keymap editor tried to generate one automatically in a last-ditch effort to help you get into the app."]}),(0,te.jsx)("p",{children:"Are there any glaring issues with what you're seeing? The layout is based on the matrix transform defined in the keyboard's devicetree source, which wasn't intended for visual representation so usually this results in boards appearing to have an ortholinear layout and keys will often appear mis-aligned for a variety of reasons."}),(0,te.jsxs)("p",{children:['If you feel this is "good enough" to get going, feel free to start making edits to the keymap and when you save your changes this layout will be saved alongside in a file named  ',(0,te.jsx)("code",{children:"info.json"}),". You can make some manual edits to that file if you need to tweak some of the individual key positions, sizes, and even rotation."]}),(0,te.jsxs)("p",{children:["Sometimes the auto layout just isn't enough. If that's the case you may need to create your own layout. See ",t," for instructions on how to get started. If you run into any trouble, reach out by making an issue on the project repo and I'd be happy to discuss."]})]}))})}Ns.propTypes={};var Rs=Ns;function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}function Ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ls(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ls(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zs="https://github.com/nickcoutsos/keymap-editor/wiki/Defining-keyboard-layouts";function Ks(e){var t=(0,te.jsx)(bt,{href:Zs,external:!0,children:"Keymap Editor Wiki: Defining keyboard layouts"});return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,Gs(Gs({},e),{},{children:[(0,te.jsx)("h2",{children:"This layout was Auto-Generated"}),(0,te.jsxs)("p",{children:["Hi there! Your repository didn't include a layout definition in the ",(0,te.jsx)("code",{children:"info.json"})," file, so the keymap editor tried to generate one automatically in a last-ditch effort to help you get into the app."]}),(0,te.jsxs)("p",{children:["This layout definition was saved to your repository when you first used it with the keymap editor, so remember that if there are any tweaks you'd like to make to improve it you can do so by editing the ",(0,te.jsx)("code",{children:"info.json"})," file."]}),(0,te.jsxs)("p",{children:["For more information on how to do that see ",t,". If you run into any trouble, reach out by making an issue on the project repo and I'd be happy to discuss."]})]}))})}Ks.propTypes={};var Us=Ks;function zs(e){var t=e.onDismiss,r=e.missingPath,n=e.otherRepoOrBranchAvailable;return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:t,children:[(0,te.jsx)("h2",{children:"Missing keyboard definition?"}),(0,te.jsxs)("p",{children:["Hi there! The repository you're trying to load from doesn't have a defined ",(0,te.jsx)("code",{children:r}),". Right now this application is expecting to look at that directory to discover keyboard definitions for experimental features like automatic layout generation."]}),(0,te.jsx)("p",{children:"Is it possible that the keyboard you're trying to edit relies on data from the ZMK or other repositories? Fetching from other repositories is not currently supported."}),(0,te.jsx)("p",{children:"I'm a humble developer and have only worked with configurations for my own handwired builds, so if you feel you're receiving this message in error then please consider opening an issue on this project's GitHub repository to let me know what I can do differently."}),n&&(0,te.jsx)("p",{children:"If you have another branch or repository set up as your zmk-config repo you may switch to that instead."})]})})}zs.propTypes={onDismiss:ee().func.isRequired,missingPath:ee().string.isRequired,otherRepoOrBranchAvailable:ee().bool};var qs=zs;function Fs(e){var t=e.installation,r="https://github.com/settings/installations/".concat(t.id);return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{dismissText:null,children:[(0,te.jsx)("h2",{children:"App Disabled"}),(0,te.jsxs)("p",{children:["Hello there, your installation of the keymap editor's GitHub app is currently disabled. ",(0,te.jsx)("em",{children:"This is not a ban!"})]}),(0,te.jsxs)("p",{children:["When you installed this app for your GitHub account you installed it for ",(0,te.jsx)("em",{children:"all"})," of your repositories, and we need to do a little cleanup as we roll out some new features as it's very likely you will have other repositories unrelated to ZMK keyboard configurations."]}),(0,te.jsx)("h3",{children:"How to fix this"}),(0,te.jsxs)("p",{children:["If you're still interested in using the keymap editor (and I'd love for you to be able to) please go to your ",(0,te.jsx)(bt,{href:r,children:"installation settings"})," on GitHub and select only the repositories you want to use with this tool. As soon as that's done you'll be sent back here and ready to go."]}),(0,te.jsx)("p",{children:"As always, if you're looking for clarification or further assistance please visit our GitHub repo and open an issue or start a discussion."})]})})}Fs.propTypes={installation:ee().shape({id:ee().number.isRequired}).isRequired};var Vs=Fs;function Ws(e){var t=e.onDismiss,r=e.otherRepoOrBranchAvailable,n=(0,te.jsx)(bt,{external:!0,href:"https://github.com/nickcoutsos/keymap-editor/issues",children:"issue"});return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:t,children:[(0,te.jsx)("h2",{children:"Is this a zmk-config repo?"}),(0,te.jsxs)("p",{children:["Hi there! The repository you're trying to load from doesn't have a defined ",(0,te.jsx)("code",{children:"config"})," directory. Right now this application is expecting to look at that directory to discover keymaps and other metadata."]}),r&&(0,te.jsx)("p",{children:"If you have another branch or repository set up as your zmk-config repo you may switch to that instead."}),(0,te.jsxs)("p",{children:["This is a solo project and I have only worked with a few kinds of zmk config repos, so if this is a valid repo for zmk-powered keyboard firmware then please consider opening an ",n," to let me know what I can do differently."]})]})})}Ws.propTypes={onDismiss:ee().func.isRequired,otherRepoOrBranchAvailable:ee().bool};var Qs=Ws;function Ys(e){var t=e.onDismiss,r=(0,te.jsx)(bt,{external:!0,href:"https://github.com/nickcoutsos/keymap-editor/issues",children:"Keymap Editor Issues"});return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{onDismiss:t,children:[(0,te.jsx)("h2",{children:"Automatic Layout Generation Failed"}),(0,te.jsx)("p",{children:"This does happen sometimes. I'm really very sorry."}),(0,te.jsx)("p",{children:"Something went wrong with the attempted automatic layout generation for your keyboard and there's no automatic way to recover, but if you want to reach out for assistance maybe we can work together to resolve any technical issues or else craft a manual layout for your keyboard."}),(0,te.jsxs)("p",{children:["Share your experience at ",r,"."]})]})})}Ys.propTypes={onDismiss:ee().func.isRequired};var Js=Ys,Xs=function(){return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{dismissText:null,children:[(0,te.jsx)("h2",{children:"GitHub Account Blocked"}),(0,te.jsx)("p",{children:"Hi, your access to this application has been disabled."}),(0,te.jsxs)("p",{children:["This could be an innocent mistake. Possibly you've misunderstood the intended purpose of this app, possibly I got carried away with some housekeeping. If you want more information or feel this was done in error, please reach out to ",(0,te.jsx)("em",{children:"nickcoutsos"})," on GitHub or Discord (you can find me on the ZMK server)."]})]})})};function Hs(){return(0,te.jsx)(we,{centerOnly:!0,children:(0,te.jsxs)(wr,{dismissText:null,style:{width:"400px"},children:[(0,te.jsx)("h2",{children:"Authenticate with GitHub"}),(0,te.jsx)("p",{children:"Please log-in to GitHub to continue."}),(0,te.jsx)(ye,{collection:"brands",icon:"github",text:"Login with GitHub",style:{display:"block",margin:"0 auto"},onClick:function(){return gu.beginLoginFlow()}})]})})}Hs.propTypes={};var $s=Hs;function ef(){var e=gu.username?"Welcome, ".concat(gu.username,"!"):"Welcome!";return(0,te.jsx)(we,{centerOnly:!0,children:(0,te.jsxs)(wr,{dismissText:null,children:[(0,te.jsx)("h2",{children:e}),(0,te.jsx)("p",{children:"To begin import your own keymaps, you'll need to grant the Keymap Editor app access to the relevant GitHub repositories. Please make sure to only select repositories that are set up for ZMK keyboard configurations."}),(0,te.jsxs)("p",{children:["This app requires read and write access to the repositories you select in order to write to arbitrary ",(0,te.jsx)("code",{children:".keymap"})," files. It also receives all build action events for the repository, which generates quite a bit of traffic. Selecting ",(0,te.jsx)("code",{children:"All repositories"})," for the app installation will lead to a suspension."]}),(0,te.jsx)(ye,{collection:"brands",icon:"github",text:"Add Repository",style:{display:"block",margin:"0 auto"},onClick:function(){return gu.beginInstallAppFlow()}})]})})}ef.propTypes={};var tf=ef;function rf(e){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(e)}function nf(e){return function(e){if(Array.isArray(e))return pf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ff(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function of(){of=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==rf(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function af(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function cf(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){af(i,n,o,a,c,"next",e)}function c(e){af(i,n,o,a,c,"throw",e)}a(void 0)}))}}function lf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lf(Object(r),!0).forEach((function(t){sf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==rf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===rf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ff(e,t){if(e){if("string"==typeof e)return pf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pf(e,t):void 0}}function pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function df(e){var t,r,o=(0,n.useContext)(k).settings,i=(t=(0,n.useState)({blocked:!1,initialized:!1,selectedRepoId:null,selectedBranchName:null,selectedKeyboard:null,branches:[],keyboards:[],loadingBranches:!1,loadingKeyboard:!1,loadError:null,loadWarnings:null,autoGenerated_unsaved:!1,autoGenerated:!1,showLayoutHelp:!1,warningFlags:[]}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||ff(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],l=a.initialized,u=a.branches,s=a.selectedRepoId,f=a.selectedBranchName,p=a.keyboards,d=a.selectedKeyboard,y=a.loadingBranches,h=a.loadingKeyboard,b=a.loadError,m=a.loadWarnings,v=a.autoGenerated,g=a.autoGenerated_unsaved,j=a.showLayoutHelp,x=a.warningFlags,w=e.onSelect,O="MissingRepoFile"===(null==b?void 0:b.name)&&"config"===(null==b?void 0:b.path),S="MissingRepoFile"===(null==b?void 0:b.name)&&(null==b?void 0:b.path.match(/config\/boards\/[^/]+\/[^/]+\/[^/]+?\..*$/)),E="MissingRepoFile"===(null==b?void 0:b.name)&&"config/info.json"===(null==b?void 0:b.path),P="LayoutGenerationError"===(null==b?void 0:b.name),A=x.includes("USING_ZMK_NODEFREE_MACROS"),I=x.includes("USING_MIRYOKU_DTSI"),T=x.includes("USING_NON_ZMK_MACRO"),C=(0,n.useMemo)((function(){return function(){c((function(e){return uf(uf({},e),{},{selectedBranchName:null,loadError:null,loadWarnings:null,warningFlags:[]})}))}}),[c]),D=(0,n.useMemo)((function(){return function(e){e.layout.every((function(e){return void 0===e.row&&void 0===e.col}))&&c((function(e){return uf(uf({},e),{},{loadWarnings:["Layout in info.json has no row/col definitions. Generated keymap files will not be nicely formatted."]})}))}}),[c]),_=(0,n.useMemo)((function(){return cf(of().mark((function e(){var t,r,n,i,a,l;return of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu.repositories,n=null===(t=hs()(r,{id:s}))||void 0===t?void 0:t.full_name,i=f,a=d,c((function(e){return uf(uf({},e),{},{loadingKeyboard:!0,loadError:null})})),e.next=7,gu.fetchLayoutAndKeymap(n,i,{attemptAutoLayout:o.attemptAutoLayout,keyboard:a});case 7:l=e.sent,c((function(e){return uf(uf({},e),{},{keyboards:l.keyboards||[],loadingKeyboard:!1,autoGenerated_unsaved:l.layoutIsAutoGenerated_unsaved,autoGenerated:l.layoutIsAutoGenerated,warningFlags:l.keymap.warningFlags||[]})})),D(l),w(uf({github:{repository:n,branch:i,keyboard:a}},l));case 11:case"end":return e.stop()}}),e)})))}),[o.attemptAutoLayout,s,f,d,c,D,w]);if((0,n.useEffect)((function(){gu.init().then((function(){var e,t=function(){try{return JSON.parse(localStorage.getItem(bs))}catch(e){return null}}(),r=gu.repositories||[];hs()(r,{id:t})?e=t:r.length>0&&(e=r[0].id),c((function(t){return uf(uf({},t),{},{initialized:!0,selectedRepoId:e})}))}))}),[]),(0,n.useEffect)((function(){gu.on("authentication-failed",(function(){gu.beginLoginFlow()})),gu.on("blocked",(function(){c((function(e){return uf(uf({},e),{},{blocked:!0})}))})),gu.on("repo-validation-error",(function(e){c((function(t){return uf(uf({},t),{},{loadError:e,loadingKeyboard:!1})}))})),gu.on("layout-generation-failed",(function(e){c((function(t){return uf(uf({},t),{},{loadError:e,loadingKeyboard:!1})}))}))}),[]),(0,n.useEffect)((function(){var e;s&&(e=s,localStorage.setItem(bs,JSON.stringify(e)),cf(of().mark((function e(){var t,r,n,o,i,a,l,u,f;return of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return uf(uf({},e),{},{loadingBranches:!0})})),t=hs()(gu.repositories,{id:s}),e.next=4,gu.fetchRepoBranches(t);case 4:r=e.sent,c((function(e){return uf(uf({},e),{},{branches:r,keyboard:null,keyboards:[],loadingBranches:!1})})),n=Ve()(r,"name"),o=t.default_branch,i=vs(s),a=1===r.length?r[0].name:null,l=of().mark((function e(){var t;return of().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f[u],!n.includes(t)){e.next=4;break}return c((function(e){return uf(uf({},e),{},{selectedBranchName:t})})),e.abrupt("return","break");case 4:case"end":return e.stop()}}),e)})),u=0,f=[a,i,o];case 12:if(!(u<f.length)){e.next=20;break}return e.delegateYield(l(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",20);case 17:u++,e.next=12;break;case 20:case"end":return e.stop()}}),e)})))())}),[s]),(0,n.useEffect)((function(){var e,t;s&&f&&(e=s,t=f,localStorage.setItem("".concat(ms,":").concat(e),JSON.stringify(t)),_())}),[s,f,_]),!l)return null;if(a.blocked)return(0,te.jsx)(Xs,{});if(!gu.isGitHubAuthorized())return(0,te.jsx)($s,{});if(gu.isAppSuspendedForRepoSelection())return(0,te.jsx)(Vs,{installation:gu.installations[0]});if(!gu.isAppInstalled())return(0,te.jsx)(tf,{});var N=gu.repositories.map((function(e){return{id:e.id,name:e.full_name}})),R=gu.installations.map((function(e){return{id:e.id,type:"installation",name:"[Manage available repos for ".concat(e.account.login,"...]")}})),L=[].concat(nf(N),nf(R)),M=u.map((function(e){return{id:e.name,name:e.name}})),G=p.map((function(e){return{id:e,name:e}}));return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Ku,{id:"repo",label:"Repository",value:s,choices:L,onUpdate:function(e,t){"installation"!==t.type?c((function(t){return uf(uf({},t),{},{selectedRepoId:e,selectedBranchName:null})})):gu.manageInstallationRepos(e)}}),y?(0,te.jsx)(Ce,{}):u.length>1&&(0,te.jsx)(Ku,{id:"branch",label:"Branch",value:f,choices:M,onUpdate:function(e){return c((function(t){return uf(uf({},t),{},{selectedBranchName:e,selectedKeyboard:null})}))}}),p.length>1&&(0,te.jsx)(Ku,{id:"keyboard",label:"Keyboard",value:d,choices:G,onUpdate:function(e){return c((function(t){return uf(uf({},t),{},{selectedKeyboard:e})}))}}),h&&(0,te.jsx)(Ce,{}),E&&(0,te.jsx)(As,{onDismiss:C}),S&&(0,te.jsx)(qs,{onDismiss:C}),O&&(0,te.jsx)(Qs,{onDismiss:C,otherRepoOrBranchAvailable:L.length>1||M.length>0}),A&&(0,te.jsx)(Wu,{onDismiss:C}),I&&(0,te.jsx)(Fu,{onDismiss:C}),P&&(0,te.jsx)(Js,{onDismiss:C}),T&&(0,te.jsx)(zu,{onDismiss:C}),v&&j&&(g?(0,te.jsx)(Rs,{onDismiss:function(){return c((function(e){return uf(uf({},e),{},{showLayoutHelp:!1})}))}}):(0,te.jsx)(Us,{onDismiss:function(){return c((function(e){return uf(uf({},e),{},{showLayoutHelp:!1})}))}})),b&&!P&&!S&&!E&&!O&&(0,te.jsx)(xs,{title:b.name,errors:b.errors,otherRepoOrBranchAvailable:L.length>1||M.length>0,onDismiss:C}),m&&(0,te.jsx)(xs,{title:"Warning",errors:m,onDismiss:function(){return c((function(e){return uf(uf({},e),{},{loadWarnings:null})}))}}),f&&!h&&(0,te.jsx)(ye,{icon:"sync",onClick:_}),v&&(0,te.jsx)(ye,{icon:"warning",onClick:function(e){e.stopPropagation(),c((function(e){return uf(uf({},e),{},{showLayoutHelp:!0})}))},children:"Layout wrong?"})]})}df.propTypes={onSelect:ee().func.isRequired};var yf=df,hf=sn()([D&&{id:"demo",name:"Demo Keyboard"},C&&{id:"local",name:"Local"},T&&{id:"github",name:"GitHub"}]),bf=localStorage.getItem("selectedSource"),mf=(1===hf.length?hf[0].id:null)||(hf.find((function(e){return e.id===bf}))?bf:hf[0].id);function vf(e){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(e)}var gf=["layout","keymap","sensors"];function jf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Of(e){var t,r,o=e.onSelect,i=(t=(0,n.useState)(mf),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return wf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wf(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],l=(0,n.useMemo)((function(){return function(e){var t=e.layout,r=e.keymap,n=e.sensors,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,gf);Object.assign(r,{behaviors:r.behaviors||[],layer_names:[]}),o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jf(Object(r),!0).forEach((function(t){xf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({source:a,layout:t,keymap:r,sensors:n},i))}}),[o,a]);return(0,n.useEffect)((function(){localStorage.setItem("selectedSource",a)}),[a]),(0,te.jsxs)("div",{children:[(0,te.jsx)(Ku,{id:"source",label:"Source",value:a,choices:hf,onUpdate:c}),"local"===a&&(0,te.jsx)(es,{onSelect:l}),"demo"===a&&(0,te.jsx)(ds,{onSelect:l}),"github"===a&&(0,te.jsx)(yf,{onSelect:l})]})}Of.propTypes={onSelect:ee().func.isRequired};var Sf=Of,kf=r(30381),Ef=r.n(kf),Pf=r(80047),Af={};Af.styleTagTransform=b(),Af.setAttributes=p(),Af.insert=s().bind(null,"head"),Af.domAPI=l(),Af.insertStyleElement=y(),a()(Pf.Z,Af);var If=Pf.Z&&Pf.Z.locals?Pf.Z.locals:void 0;function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cf=["success"],Df=["action_required","cancelled","failure","skipped","stale","timed_out"];function _f(e){var t,r,o=e.timestamp,i=(t=(0,n.useState)(Ef()(o).fromNow()),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tf(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return(0,n.useEffect)((function(){c(Ef()(o).fromNow());var e=setInterval((function(){c(Ef()(o).fromNow())}),6e4);return function(){return clearInterval(e)}}),[o,c]),(0,te.jsx)("span",{title:o.toISOString(),children:a})}function Nf(e){var t=e.latestRun,r=Cf.includes(t.conclusion)?(0,te.jsx)(le,{name:"check"}):Df.includes(t.conclusion)?(0,te.jsx)(le,{name:"xmark"}):(0,te.jsx)(Ce,{});return(0,te.jsxs)(bt,{href:t.html_url,className:If.buildDetails,external:!0,showExternal:!1,children:[(0,te.jsxs)("span",{className:If.buildSummary,children:["Firmware build (",(0,te.jsx)("code",{children:t.head_sha.slice(0,5)}),") ",r,(0,te.jsx)("br",{}),(0,te.jsx)(_f,{timestamp:new Date(t.updated_at)})]}),(0,te.jsx)(le,{name:"file-arrow-down",className:[If.buildStatus,If.buildSuccess].join(" ")})]})}Nf.propTypes={latestRun:ee().shape({id:ee().number.isRequired,name:ee().string.isRequired,head_sha:ee().string.isRequired,status:ee().oneOf(["completed","action_required","cancelled","failure","neutral","skipped","stale","success","timed_out","in_progress","queued","requested","waiting"]).isRequired,conclusion:ee().oneOf([null,"action_required","cancelled","failure","neutral","success","skipped","stale","timed_out"]),created_at:ee().string.isRequired,updated_at:ee().string.isRequired})};var Rf=Nf;function Lf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mf(e){var t,r,o=e.onConfirm,i=e.onCancel,a=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Lf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lf(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{dismissText:null,children:[(0,te.jsx)("h2",{children:"Commit keymap changes"}),(0,te.jsx)("textarea",{style:{width:"100%"},placeholder:"Message (optional)",value:c,onChange:function(e){l(e.target.value)}}),(0,te.jsxs)("p",{style:{textAlign:"center",gap:"10px"},children:[(0,te.jsx)(at,{onClick:function(){return o(c)},children:"Commit"}),(0,te.jsx)(at,{onClick:i,secondary:!0,children:"Cancel"})]})]})})}Mf.propTypes={onConfirm:ee().func.isRequired,onCancel:ee().func.isRequired};var Gf=Mf,Bf=r(70401),Zf=r.n(Bf),Kf=r(14084),Uf={};Uf.styleTagTransform=b(),Uf.setAttributes=p(),Uf.insert=s().bind(null,"head"),Uf.domAPI=l(),Uf.insertStyleElement=y(),a()(Kf.Z,Uf);var zf=Kf.Z&&Kf.Z.locals?Kf.Z.locals:void 0;function qf(e){return qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(e)}function Ff(){Ff=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==qf(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Vf(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yf(e){return"  ".concat(e.fileName,":").concat(e.lineNumber,":").concat(e.columnNumber)}var Jf=(0,te.jsx)(bt,{external:!0,href:"https://github.com/nickcoutsos/keymap-editor/issues/new",children:"new issue"});function Xf(e){var t=e.error,r=Wf((0,n.useState)([]),2),o=r[0],i=r[1],a=Wf((0,n.useState)(""),2),c=a[0],l=a[1],u=Wf((0,n.useState)(!1),2),s=u[0],f=u[1];return(0,n.useEffect)((function(){function e(){var r;return r=Ff().mark((function e(){return Ff().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,Zf().fromError(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})),e=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){Vf(i,n,o,a,c,"next",e)}function c(e){Vf(i,n,o,a,c,"throw",e)}a(void 0)}))},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,t]),(0,n.useEffect)((function(){l(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"\n".concat(e.name,"\n\n").concat(e.message,"\n\n").concat(t.map(Yf).join("\n"),"\n").trim()}(t,o))}),[t,o]),(0,n.useEffect)((function(){s&&setTimeout((function(){f(!1)}),3e3)}),[s,f]),(0,te.jsx)(we,{children:(0,te.jsxs)(wr,{dismissText:!1,style:{maxWidth:"700px"},children:[(0,te.jsx)("h2",{children:"Unexpected error"}),(0,te.jsxs)("p",{children:["Something unexpected happened and the keymap editor app cannot recover. Please consider taking a moment to open a ",Jf,"with the details below to help me investigate and improve the app."]}),(0,te.jsxs)("div",{className:zf.stackTrace,children:[(0,te.jsx)("pre",{children:c}),(0,te.jsx)(ye,{icon:"copy",title:"Copy error text",className:zf.button,onClick:function(){var e="".concat("```","\n").concat(c,"\n").concat("```");navigator.clipboard.writeText(e).then((function(){return f(!0)}))}}),s&&(0,te.jsx)("div",{className:zf.copyMessage,children:"Copied!"})]})]})})}Xf.propTypes={error:ee().instanceOf(Error).isRequired};var Hf=Xf;function $f(e){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(e)}function ep(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==$f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===$f(o)?o:String(o)),n)}var o}function tp(e,t){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tp(e,t)}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rp(e)}var np=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tp(e,t)}(c,e);var t,r,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rp(o);if(i){var r=rp(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={error:null},t}return t=c,n=[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}],(r=[{key:"render",value:function(){var e=this.props.children,t=this.state.error;return t?(0,te.jsx)(Hf,{error:t}):e}}])&&ep(t.prototype,r),n&&ep(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);function op(e){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(e)}var ip=["source","layout","keymap","sensors"];function ap(){ap=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new k(o||[]);return n(a,"_invoke",{value:x(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function y(){}var h={};l(h,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==t&&r.call(m,i)&&(h=m);var v=y.prototype=p.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function o(n,i,a,c){var l=s(e[n],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==op(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,c)}))}c(l.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=y,n(v,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(j.prototype),l(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),l(v,c,"Generator"),l(v,i,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function cp(e,t,r,n,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function lp(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){cp(i,n,o,a,c,"next",e)}function c(e){cp(i,n,o,a,c,"throw",e)}a(void 0)}))}}function up(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fp=function(){var e=up(dr(),2),t=e[0],r=e[1],o=t.definitions,i=t.source,a=t.sourceOther,c=t.keyboard,l=t._unmodifiedKeymap,u=t.saving,s=t.theme,f=t.settingsVisible,p=t.experimentalSettings,d=t.latestBuild;function y(){return y=lp(ap().mark((function e(){var n,o,i;return ap().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.keyboard,o=t.keyboard.keymap,e.next=4,F(n,o);case 4:i=e.sent,r({type:"KEYMAP_SAVE_SUCCESS",keymap:i});case 6:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}(0,n.useEffect)((function(){if(null!=a&&a.github)return lp(ap().mark((function t(){var r,n,o;return ap().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.github,n=r.repository,o=r.branch,t.t0=e,t.next=4,gu.fetchBuildStatus(n,o);case 4:t.t1=t.sent,(0,t.t0)(t.t1);case 6:case"end":return t.stop()}}),t)})))(),gu.on("build-update",e),function(){return gu.off("build-update",e)};function e(e){e.head_branch===a.github.branch&&r({type:"GITHUB_BUILD_UPDATE",build:e})}r({type:"GITHUB_BUILD_UPDATE",build:null})}),[a,r]);var h=(0,n.useCallback)((function(e){var t=a.github,n=t.repository,o=t.branch;lp(ap().mark((function t(){var i,l,u,s;return ap().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"COMMIT_DIALOG_CLOSE"}),r({type:"KEYMAP_SAVE_START"}),i=c.layout,l=c.keymap,t.next=5,gu.commitChanges(n,o,i,l,{message:e,experimentalSettings:p,keyboard:a.github.keyboard});case 5:u=t.sent,s=u.data,r({type:"KEYMAP_SAVE_SUCCESS",keymap:s});case 8:case"end":return t.stop()}}),t)})))()}),[a,c,r,p]),b=(0,n.useCallback)((function(e){var t=e.source,n=e.layout,o=e.keymap,i=e.sensors,a=void 0===i?[]:i,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ip);r({type:"SELECT_KEYBOARD",source:t,sourceOther:c,layout:n,keymap:o,sensors:a})}),[r]),m=(0,n.useMemo)((function(){return lp(ap().mark((function e(){var t,n,o,i,a,c,l;return ap().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([function(){return B.apply(this,arguments)}().then(H),M(),function(){return Z.apply(this,arguments)}()]);case 2:t=e.sent,n=up(t,3),o=n[0],i=n[1],a=n[2],c=i.behaviors,l=i.bindings,o.indexed=j()(o,"code"),l.indexed=j()(l,"code"),l.context={none:l.filter((function(e){return!e.context})),macros:(0,E.filter)(l,{context:"macros"})},l.byContext={none:j()(l.context.none,"code"),macros:j()(l.context.macros,"code")},r({type:"DEFINITIONS_SET",definitions:{keycodes:o,behaviours:l,behaviors:c,behaviorBinds:l,glyphs:a}});case 14:case"end":return e.stop()}}),e)})))}),[r]),v=(0,n.useCallback)((function(e){r({type:"SETTINGS_UPDATE",settings:e})}),[r]),g=(0,n.useCallback)((function(){return r({type:"SETTINGS_OPEN"})}),[r]),x=c&&!Object.is(c.keymap,l);return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(np,{children:(0,te.jsx)(Ge,{load:m,children:(0,te.jsxs)(k.Provider,{value:{settings:p,openSettingsDialog:g},children:[(0,te.jsx)(Sf,{onSelect:b}),(0,te.jsxs)("div",{id:"settings-bar",children:[(0,te.jsx)(ye,{id:"light-mode",title:"Toggle theme",icon:{light:"sun",dark:"moon",system:"circle-half-stroke"}[s]||"circle-half-stroke",onClick:function(){return r({type:"CYCLE_THEME"})}}),(0,te.jsx)(ye,{id:"settings-button",icon:"cog",onClick:g}),f&&(0,te.jsx)(Bu,{settings:p,onUpdate:v,onClose:function(){return r({type:"SETTINGS_CLOSE"})}})]}),(0,te.jsxs)("div",{id:"actions",children:["local"===i&&(0,te.jsx)("button",{disabled:!x,onClick:function(){return y.apply(this,arguments)},children:"Save Local"}),"github"===i&&(0,te.jsxs)("button",{title:"Commit keymap changes to GitHub repository",disabled:!x,onClick:function(){r({type:"COMMIT_DIALOG_OPEN"})},children:[u?"Saving":"Commit Changes",u&&(0,te.jsx)(Ce,{})]}),t.commitDialogOpen&&(0,te.jsx)(Gf,{onConfirm:h,onCancel:function(){return r({type:"COMMIT_DIALOG_CLOSE"})}}),d&&(0,te.jsx)(Rf,{latestRun:d})]}),(0,te.jsx)(O.Provider,{value:o,children:c&&(0,te.jsx)(Pu,{layout:c.layout,keymap:c.keymap,sensors:c.sensors})})]})})}),(0,te.jsx)(Du,{})]})};document.body.dataset.theme=wt.theme,o.createRoot(document.getElementById("app-root")).render((0,te.jsx)(n.StrictMode,{children:(0,te.jsx)(pr,{children:(0,te.jsx)(fp,{})})}))},39087:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,':root {\n  --bg: white;\n  --bg-rgb: 255,255,255;\n  --fg: black;\n\t--dark-red: #910e0e;\n\t--dark-blue: #6d99c6;\n  --error-highlight: rgb(179, 60, 60);\n  --selection: rgb(60, 179, 113);\n  --hover-selection: rgba(60, 179, 113, 0.85);\n  --delete: rgb(179, 60, 72);\n  --delete-faint: rgba(179, 60, 72, 0.6);\n  --link: royalblue;\n  --link-hover: #6d99c6;\n  --key-bg-base: #f2f2f2;\n  --key-bg-hover: white;\n  --key-bg-highlight: sandybrown;\n  --key-color-base: #6f6f6f;\n  --key-color-extreme: #313131;\n  --key-color-hover: white;\n  --code-bg: rgba(0, 0, 0, 0.15);\n}\nhtml {\n  font-family: Quicksand, avenir, sans-serif;\n}\nhtml, body {\n\twidth: 100vw;\n\theight: 100vh;\n\toverflow: auto;\n\tpadding: 0;\n\tmargin: 0;\n  background-color: var(--bg);\n  color: var(--fg);\n\n  transition: 300ms ease-in-out;\n  transition-property: color, background-color, border-color;\n}\n\nbody[data-theme="dark"] {\n  color-scheme: dark;\n  --bg: #123;\n  --bg-rgb: 17,34,51;\n  --fg: white;\n  --key-bg-base: #1c2c3b;\n  --key-color-base: #b7b7b7;\n  --key-color-extreme: #e7e7e7;\n}\n@media (prefers-color-scheme: dark) {\n  body[data-theme="system"] {\n    color-scheme: dark;\n    --bg: #123;\n    --bg-rgb: 17,34,51;\n    --fg: white;\n    --key-bg-base: #1c2c3b;\n    --key-color-base: #b7b7b7;\n    --key-color-extreme: #e7e7e7;\n  }\n}\n\nh3 {\n  margin-bottom: 10px;\n}\n\na { color: var(--link) }\na:hover { color: var(--link-hover) }\n\ncode {\n  background-color: var(--code-bg);\n  border-radius: 2px;\n  padding: .15em .3em .05em;\n}\n\n#actions {\n\tposition: absolute;\n  display: flex;\n\tbottom: 5px;\n\tright: 5px;\n  gap: 4px;\n}\n\n#actions button {\n  display: inline-block;\n  cursor: pointer;\n  background-color: var(--hover-selection);\n  color: white;\n\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  padding: 0 5px;\n\n  height: 30px;\n  line-height: 30px;\n  vertical-align: middle;\n}\n\n#actions button[disabled] {\n  filter: saturate(20%);\n  opacity: .5;\n  cursor: not-allowed;\n}\n\n#settings-bar {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n\n#settings-bar button {\n  background: none;\n  color: var(--fg);\n  border: none;\n}\n#settings-bar button:hover {\n  cursor: pointer;\n  color: royalblue;\n}\n\n.fa-delete-right::before {\n  content: \'\\f55a\';\n  transform-origin: center;\n  transform: rotateZ(180deg);\n  display: inline-block;\n}\n',""]),t.Z=a},51424:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"body {\n  margin: 0;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n",""]),t.Z=a},56281:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"button.pi2Ig8c3Fdh4H2Jpxdo7 {\n  display: inline-block;\n  cursor: pointer;\n  background-color: var(--hover-selection);\n  color: white;\n\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  padding: 0 5px;\n\n  height: 30px;\n  line-height: 30px;\n  vertical-align: middle;\n}\n\nbutton.Ctpu4E2dZYJ6g8CUGFOF {\n  color: var(--fg);\n  background-color: transparent;\n}\n\nbutton.pi2Ig8c3Fdh4H2Jpxdo7[disabled] {\n  filter: saturate(20%);\n  opacity: .5;\n  cursor: not-allowed;\n}\n",""]),a.locals={action:"pi2Ig8c3Fdh4H2Jpxdo7",secondary:"Ctpu4E2dZYJ6g8CUGFOF"},t.Z=a},49502:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".ZpdcqlK42OntJos3eGw0 {\n  background-color: var(--bg);\n  padding: 20px 40px;\n  margin: 40px;\n  max-width: 500px;\n  box-shadow: 0px 10px 25px rgba(0, 0, 0, 0.4);\n}\n\n.ZpdcqlK42OntJos3eGw0 p, .ZpdcqlK42OntJos3eGw0 ul {\n  font-family: sans-serif;\n  line-height: 1.3rem;\n}\n\n.Mywg1Gw3bKMc9Kd9qcEO {\n  display: block;\n  margin: 0 auto;\n}\n",""]),a.locals={dialog:"ZpdcqlK42OntJos3eGw0",button:"Mywg1Gw3bKMc9Kd9qcEO"},t.Z=a},86015:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".ho3CuFFjX1VFNZJiAyVs {\n  position: relative;\n}\n\n.u9J3v5ZrIbuVICzNBkRw {\n  padding: 5px;\n  cursor: pointer;\n  opacity: 0.5;\n  color: var(--key-color-base);\n}\n.u9J3v5ZrIbuVICzNBkRw:hover {\n  opacity: 1;\n}\n\n.wmqWaOx7XyKADh7Kv4RZ {\n  position: absolute;\n  z-index: 10;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 100%);\n  max-width: 250px;\n  width: 100%;\n\n  border-radius: 4px;\n  padding: 3px 5px;\n\n  color: white;\n  background-color: var(--error-highlight);\n  font-size: 85%;\n  font-family: sans-serif;\n\n  opacity: 0.9;\n}\n.wmqWaOx7XyKADh7Kv4RZ::before {\n  position: absolute;\n  display: block;\n  content: ' ';\n  z-index: -1;\n\n  left: 50%;\n  width: 10px;\n  height: 10px;\n\n  background-color: var(--error-highlight);\n  transform: translate(-50%, -7px) rotate(45deg);\n}\n",""]),a.locals={container:"ho3CuFFjX1VFNZJiAyVs",edit:"u9J3v5ZrIbuVICzNBkRw",error:"wmqWaOx7XyKADh7Kv4RZ"},t.Z=a},87617:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".J2R67AQeCK_aC1DKFCMJ {\n  margin: 4px;\n}",""]),a.locals={icon:"J2R67AQeCK_aC1DKFCMJ"},t.Z=a},92127:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".FMkASzwt_oMscZdObpDQ {\n  display: inline-block;\n  text-align: center;\n}\n.TNF6aRMBPANvZifB27ZK {\n  display: inline-block;\n  animation: GGCs7iiBiwDCnT80cyTh 1s linear infinite;\n}\n\n@keyframes GGCs7iiBiwDCnT80cyTh {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}",""]),a.locals={spinner:"FMkASzwt_oMscZdObpDQ",icon:"TNF6aRMBPANvZifB27ZK",spin:"GGCs7iiBiwDCnT80cyTh"},t.Z=a},528:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".sq9i7hQeTeeKuarmO8oA {\n  display: inline-block;\n  font-size: 70%;\n  background: rgba(0, 0, 0, 0.3);\n  color: white;\n  padding: 4px;\n  border-radius: 4px;\n}\n",""]),a.locals={tip:"sq9i7hQeTeeKuarmO8oA"},t.Z=a},14084:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".Q5veln3l3laVkuNPs5dQ {\n  position: relative;\n}\n\n.Q5veln3l3laVkuNPs5dQ pre {\n  white-space: pre;\n  background-color: var(--code-bg);\n  color: var(--key-color-base);\n  padding: 10px;\n  max-height: 320px;\n  overflow: scroll;\n}\n\n.dqzgBwJ1Rq0XgMqeAKe7 {\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  padding: 4px 7px;\n  color: var(--key-color-base);\n  background-color: var(--key-bg-base);\n  border: 1px solid var(--key-color-base);\n  border-radius: 3px;\n}\n.dqzgBwJ1Rq0XgMqeAKe7:hover {\n  cursor: pointer;\n  background-color: var(--selection);\n  border: var(--selection);\n  color: white;\n}\n\n.YV2lKA9hbJpP4Vs4udw8 {\n  position: absolute;\n  top: 5px;\n  right: 0px;\n  background-color: var(--selection);\n  color: white;\n  padding: 10px;\n  border-radius: 2px;\n  cursor: none;\n}\n",""]),a.locals={stackTrace:"Q5veln3l3laVkuNPs5dQ",button:"dqzgBwJ1Rq0XgMqeAKe7",copyMessage:"YV2lKA9hbJpP4Vs4udw8"},t.Z=a},14409:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".xCOOsvxL5qQ3kR8ri91A {\n  box-shadow: 0 4px 10px 0px rgba(0, 0, 0, 0.5);\n}\n\n.u4uW9U2E0DfbUM9vP9pf {\n  text-align: center;\n  padding: 0;\n  margin: 0;\n}\n\n.u4uW9U2E0DfbUM9vP9pf li {\n  display: inline-block;\n  font-family: monospace;\n  font-size: 120%;\n  margin: 4px 2px;\n  padding: 4px 4px;\n  border-radius: 2px;\n  cursor: pointer;\n\n  background-color: rgba(0, 0, 0, .5);\n  opacity: 0.5;\n  color: white;\n}\n\n.u4uW9U2E0DfbUM9vP9pf li.YcHSun3PLo8dCb9qIZtc {\n  opacity: 1;\n  background-color: var(--selection);\n  color: white;\n}\n\n.u4uW9U2E0DfbUM9vP9pf li:hover {\n  opacity: 1;\n  background-color: var(--hover-selection);\n}\n",""]),a.locals={previewKeycode:"xCOOsvxL5qQ3kR8ri91A",modifiers:"u4uW9U2E0DfbUM9vP9pf",selected:"YcHSun3PLo8dCb9qIZtc"},t.Z=a},27470:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"\n.S3t60CK1JCROFIrRlm4j [readonly] {\n  cursor: not-allowed;\n  color: gray;\n  outline: gray;\n}\n\nol.MedG7SPG2ge2h7j2yqrJ {\n  list-style-type: none;\n  margin-top: 0;\n  padding: 0;\n}\n.V50Bekt6td9yQOSiDGdx {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.V50Bekt6td9yQOSiDGdx li {\n  display: inline-block;\n  line-height: 2rem;\n}\nol.QNg3v6_eJoK7_qV0_y9n {\n  margin: 0;\n}\nol.QNg3v6_eJoK7_qV0_y9n li {\n  line-height: 2rem;\n}\nol.u65C3Uji7covMUn996dR {\n  list-style-type: none;\n  padding: 0;\n}\n.xp5u4Uo4X2fxxX9KwwXu {\n  cursor: pointer;\n  margin: 2px;\n  padding: 5px;\n  font-family: monospace;\n  border-radius: 1rem;\n  background-color: var(--key-bg-base);\n}\n.xp5u4Uo4X2fxxX9KwwXu:hover {\n  background-color: var(--hover-selection);\n  color: white;\n}\n\n.gpFGP00LCwlGjK6yrGWw {\n  vertical-align: text-bottom;\n  margin: 0 2px;\n}\n.gpFGP00LCwlGjK6yrGWw:hover {\n  color: black;\n}\n\n.gsAzkKxnfzTcp5ApwmWS {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n/* Copied from MacroEditor :( */\n.KrcWDYfRVRfvRhpsBFxs {\n  visibility: hidden;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  font-size: 80%;\n\n  color: var(--key-color-hover);\n}\n.KrcWDYfRVRfvRhpsBFxs > * {\n  margin: 2px;\n  opacity: 0.5;\n  cursor: pointer;\n}\n.gsAzkKxnfzTcp5ApwmWS li :hover .KrcWDYfRVRfvRhpsBFxs {\n  visibility: visible;\n  z-index: 10;\n}\n\n.KrcWDYfRVRfvRhpsBFxs :hover {\n  opacity: 1;\n}\n",""]),a.locals={propertyValue:"S3t60CK1JCROFIrRlm4j",propertyMultiSelect:"MedG7SPG2ge2h7j2yqrJ",propertyMultiSelectChips:"V50Bekt6td9yQOSiDGdx",propertyPhandleSelect:"QNg3v6_eJoK7_qV0_y9n",propertyPhandleSingleton:"u65C3Uji7covMUn996dR",behaviorBind:"xp5u4Uo4X2fxxX9KwwXu",phandleRemove:"gpFGP00LCwlGjK6yrGWw",propertyBindingsValue:"gsAzkKxnfzTcp5ApwmWS",actions:"KrcWDYfRVRfvRhpsBFxs"},t.Z=a},34288:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".kcj881bnLDph62EcKelj {\n  padding-bottom: 60px;\n}\n\n.GeuMxQtBvZYr0nOURDHd {\n  display: flex;\n  width: 190px;\n  flex-direction: column;\n  padding: 10px;\n  gap: 10px;\n  position: fixed;\n}\n\n.NqlHG1MKBiOUUFAed3CM {\n  max-width: 700px;\n  margin: 0 auto;\n  padding-bottom: 60px;\n}\n\n.NqlHG1MKBiOUUFAed3CM table {\n  border-spacing: 0;\n}\n.NqlHG1MKBiOUUFAed3CM table thead {\n  text-align: left;\n}\n\n.NqlHG1MKBiOUUFAed3CM table tbody tr td {\n  padding: 10px;\n  margin: 0;\n}\n.NqlHG1MKBiOUUFAed3CM table tbody tr:nth-child(even) {\n  background-color: var(--key-bg-base);\n}\n\n.Q3_rmo3XiEVg8qfXgKX_ {\n  cursor: pointer;\n  padding: 5px;\n  opacity: 0.6;\n}\n.Q3_rmo3XiEVg8qfXgKX_:hover {\n  opacity: 1;\n}\n\ntable.czOKx_t_EDF44pilzyzA th { text-align: left }\ntable.czOKx_t_EDF44pilzyzA input { font-family: monospace }\ntable.czOKx_t_EDF44pilzyzA .s8rWNi6e8BZ7yQubfDws {\n  font-family: monospace;\n  vertical-align: top;\n}\n",""]),a.locals={main:"kcj881bnLDph62EcKelj",sidebar:"GeuMxQtBvZYr0nOURDHd",panel:"NqlHG1MKBiOUUFAed3CM",action:"Q3_rmo3XiEVg8qfXgKX_",editorForm:"czOKx_t_EDF44pilzyzA",propertyName:"s8rWNi6e8BZ7yQubfDws"},t.Z=a},78207:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'.pwXbGORsYKqyOPBm9_dW {\n  padding-bottom: 60px;\n}\n\n.QgFDXNybKD_XN66M_WpJ {\n  display: flex;\n  width: 190px;\n  flex-direction: column;\n  padding: 10px;\n  gap: 10px;\n  position: fixed;\n}\n\n.Gy0KZGCgOeVminAfggFQ {\n  cursor: pointer;\n  background-color: var(--key-bg-base);\n}\n.Gy0KZGCgOeVminAfggFQ:hover {\n  border: 4px solid var(--selection);\n  box-sizing: border-box;\n}\n\n.Ld9cVdtpS_DpbEifyX9Y {\n  background-color: var(--selection);\n}\n.Ld9cVdtpS_DpbEifyX9Y:hover {\n  background-color: var(--hover-selection);\n}\n\n.mqpJ7uHAMKxvORoOIPFK {\n  max-width: 450px;\n  margin: 0 auto;\n  padding-bottom: 60px;\n}\n\n.BVucwy4AZCyl7GyivzMn {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 2px solid var(--key-bg-base);\n  margin: 5px 0;\n}\n\n.U6g0njWjBrtb_I3XhAeV {\n  cursor: pointer;\n  padding: 5px;\n  opacity: 0.6;\n}\n.U6g0njWjBrtb_I3XhAeV:hover {\n  opacity: 1;\n}\n\n.CROhsBLtunQ2BbfWdkQw {\n  margin: 10px 0 40px;\n}\n\n.CROhsBLtunQ2BbfWdkQw .MhA4fXXuaZ1iPvv05w4m {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n}\n\n.CROhsBLtunQ2BbfWdkQw h5 {\n  margin: 0;\n}\n\n.vujYcgQjiN4BGp37FMUH {\n  color: var(--key-color-base);\n}\n\n.uh2yPWyfEOZtgXo2_KtU {\n  color: var(--delete);\n}\n\n.NAB1EN6_pcYIy5Db9XnC {\n  display: none !important;\n}\n.NAB1EN6_pcYIy5Db9XnC:hover {\n  color: white;\n  cursor: pointer;\n}\n.kYn8brsFgEaf61oQyv4d:hover .NAB1EN6_pcYIy5Db9XnC {\n  display: flex !important;\n  position: absolute;\n  right: -48px;\n  transform: scale(0.5);\n}\n\n.NGxnhfSJaJ9FNu3hlBfc.NAB1EN6_pcYIy5Db9XnC,\n.NGxnhfSJaJ9FNu3hlBfc.GXgG_IaQTricqThqzsKe > * {\n  background-color: sandybrown;\n  color: white;\n}\n.NGxnhfSJaJ9FNu3hlBfc.NAB1EN6_pcYIy5Db9XnC {\n  display: flex;\n}\n\n.fljdvcebOv1gbKZpf0vW {\n  margin: 10px 0;\n  display: flex;\n}\n\n.fljdvcebOv1gbKZpf0vW label {\n  display: inline-block;\n  width: 120px;\n  text-align: right;\n  margin-right: 10px;\n}\n\n.bnN6JCit0RcjdQiqzw8w {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.bnN6JCit0RcjdQiqzw8w li {\n  cursor: pointer;\n  display: inline-block;\n  padding: 5px 10px;\n  margin: 5px;\n  border-radius: 30px;\n  background-color: var(--key-bg-base);\n}\n.bnN6JCit0RcjdQiqzw8w li[data-selected="true"] {\n  background-color: var(--selection);\n  color: var(--key-color-hover);\n}\n.bnN6JCit0RcjdQiqzw8w li:hover {\n  background-color: var(--hover-selection);\n  color: var(--key-color-hover);\n}\n\n.NpLEYrC32KQ4rUx9hUFJ {\n  background-color: var(--key-bg-base);\n  border-radius: 30px;\n  color: var(--key-color-base);\n  font-size: 80%;\n  text-align: center;\n  padding: 5px;\n  position: absolute;\n  bottom: -40px;\n  left: 50%;\n  transform: translate(-50%, 0);\n  width: 110%;\n\n  pointer-events: none;\n  transition: opacity ease-in-out .5s;\n}\n\n.l2gtE1XKS63R5TM5unip { position: relative }\n.l2gtE1XKS63R5TM5unip:hover .NpLEYrC32KQ4rUx9hUFJ { opacity: 0.25 }\n',""]),a.locals={main:"pwXbGORsYKqyOPBm9_dW",sidebar:"QgFDXNybKD_XN66M_WpJ",selectable:"Gy0KZGCgOeVminAfggFQ",highlight:"Ld9cVdtpS_DpbEifyX9Y",comboPanel:"mqpJ7uHAMKxvORoOIPFK",heading:"BVucwy4AZCyl7GyivzMn",action:"U6g0njWjBrtb_I3XhAeV",combo:"CROhsBLtunQ2BbfWdkQw",detail:"MhA4fXXuaZ1iPvv05w4m",edit:"vujYcgQjiN4BGp37FMUH",remove:"uh2yPWyfEOZtgXo2_KtU",addComboInput:"NAB1EN6_pcYIy5Db9XnC",comboInputList:"kYn8brsFgEaf61oQyv4d",active:"NGxnhfSJaJ9FNu3hlBfc",comboInput:"GXgG_IaQTricqThqzsKe",field:"fljdvcebOv1gbKZpf0vW",layerList:"bnN6JCit0RcjdQiqzw8w",floatingMessage:"NpLEYrC32KQ4rUx9hUFJ",comboInputMap:"l2gtE1XKS63R5TM5unip"},t.Z=a},56520:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".eEWh1kMxq0qwtAjWodL_ {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.eEWh1kMxq0qwtAjWodL_.Me2iewShkkUWEmhCKAJV {\n  cursor: crosshair;\n}\n\n.wou_rpm0nvB8wxB153cE {\n  position: absolute;\n  background-color: rgba(150, 255, 150, 0.1);\n  border: 3px dotted rgba(150, 255, 150, 0.7);\n  pointer-events: none;\n  box-sizing: border-box;\n}\n\n.wou_rpm0nvB8wxB153cE.fM8xQCv4KykkW5ssxgEg {\n  background-color: rgba(120, 120, 120, 0.1);\n  border-color: rgba(120, 120, 120, 0.25);\n}\n",""]),a.locals={container:"eEWh1kMxq0qwtAjWodL_",selecting:"Me2iewShkkUWEmhCKAJV",overlay:"wou_rpm0nvB8wxB153cE",negate:"fM8xQCv4KykkW5ssxgEg"},t.Z=a},49040:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".lD5TsvdIbEAHNdmhfnlb {\n  background-color: var(--key-bg-base);\n}\n.yk89E4zK9zlO69OXhKn5:hover {\n  cursor: pointer;\n  border: 4px solid var(--selection);\n  box-sizing: border-box;\n}\n\n.pzTvsxKjpy6MqcFhxh9j {\n  background-color: var(--selection);\n}\n.pzTvsxKjpy6MqcFhxh9j:hover {\n  background-color: var(--hover-selection);\n}\n\n.r_Sdklnj57CE2ZjnBDw6 {\n  background-color: var(--hover-selection);\n  filter: brightness(135%);\n}\n\n.Ich9T1nSzHs1a84insfp {\n  background-color: var(--hover-selection);\n  filter: brightness(75%);\n}\n\n._3U1zi1J1sXT41AzpAA1j {\n  position: absolute;\n  bottom: 0;\n  right: 50%;\n  transform: translate(50%, 100%);\n}\n",""]),a.locals={key:"lD5TsvdIbEAHNdmhfnlb",selectable:"yk89E4zK9zlO69OXhKn5",highlight:"pzTvsxKjpy6MqcFhxh9j",previewAdd:"r_Sdklnj57CE2ZjnBDw6",previewRemove:"Ich9T1nSzHs1a84insfp",tip:"_3U1zi1J1sXT41AzpAA1j"},t.Z=a},52487:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".LQCQzczCW2r1SnVzbpa5 {\n  display: inline-block;\n  position: absolute;\n  z-index: 10;\n  font-size: 70%;\n  background: var(--bg);\n  padding: 5px 10px;\n  margin-left: 10px;\n\n  border-radius: 4px;\n}\n\n.LQCQzczCW2r1SnVzbpa5 p {\n  display: inline-block;\n  cursor: pointer;\n  margin: 0;\n}\n\n.LQCQzczCW2r1SnVzbpa5 ul {\n  display: none;\n}\n.LQCQzczCW2r1SnVzbpa5.tzuBilUEs5Rc4csF4mw6 {\n  box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.5);\n}\n.LQCQzczCW2r1SnVzbpa5.tzuBilUEs5Rc4csF4mw6 ul {\n  display: block;\n  padding: 0;\n  margin-bottom: 0;\n  list-style-type: none;\n}\n\n.LQCQzczCW2r1SnVzbpa5 li {\n  cursor: pointer;\n  margin: 2px 0;\n  line-height: 20px;\n  padding: 0 5px;\n  border-radius: 10px;\n}\n\n.LQCQzczCW2r1SnVzbpa5 li:hover {\n  background-color: var(--hover-selection);\n  color: white;\n}\n",""]),a.locals={quickChangeMenu:"LQCQzczCW2r1SnVzbpa5",open:"tzuBilUEs5Rc4csF4mw6"},t.Z=a},2:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'.CoLZlKR1WcMrFd9XhDMC {\n\tposition: relative;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t/* TODO: remove this once I have a wrapper with size defaults */\n\twidth: 65px;\n\theight: 65px;\n\n\tfont-size: 110%;\n\tborder-radius: 5px;\n}\n\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:not(:hover) .UNzQquWsoIanOpIN0Q9L {\n\ttext-decoration: underline wavy var(--error-highlight);\n\ttext-underline-offset: 4px;\n\tcolor: var(--error-highlight);\n\tfont-weight: bold;\n}\n\n.Y5EVt8b0BaXNd9uLxhfh {\n\tposition: absolute;\n\tleft: 2px;\n\tbottom: 2px;\n\tfont-size: 80%;\n\n\tanimation: sYr3l9y03JxO_2AP73jr ease-in-out 1s alternate-reverse;\n}\n.Y5EVt8b0BaXNd9uLxhfh.CT4uGhwl8sY0LwT3p39g:hover {\n\tcolor: rgb(255, 225, 0);\n}\n\n@keyframes sYr3l9y03JxO_2AP73jr {\n\t0% { color: var(--key-color-base) }\n\t100% { color: var(--key-color-extreme) }\n}\n\n\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .DejZXCvvhJILPbs9Q8ht,\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .GliE4Ybwli9X6TNTjD1_ {\n\tborder-bottom-left-radius: 0;\n\tborder-bottom-right-radius: 0;\n\ttext-decoration: underline dotted white 2px;\n\ttext-underline-offset: 4px;\n}\n\n\n.huQDP3GbTLThbVIP8wFp {\n\tcolor: var(--key-color-base);\n\tbackground-color: var(--key-bg-base);\n}\n\n.PpMmKpJfEi37Ldw7AeBT {\n\tborder-radius: 100%;\n\tbackground-color: var(--key-bg-base);\n\tcolor: var(--key-color-base);\n}\n\n.k2EIh8YlFvp9sBuklSxx {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tfont-size: 50%;\n}\n\n.CT4uGhwl8sY0LwT3p39g:hover, .PpMmKpJfEi37Ldw7AeBT.CT4uGhwl8sY0LwT3p39g:hover {\n\tbackground-color: var(--hover-selection);\n\ttransition: 200ms;\n\tz-index: 1;\n}\n.CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .DejZXCvvhJILPbs9Q8ht, .CoLZlKR1WcMrFd9XhDMC.CT4uGhwl8sY0LwT3p39g:hover .GliE4Ybwli9X6TNTjD1_ {\n\tcolor: var(--key-color-hover);\n}\n.CoLZlKR1WcMrFd9XhDMC > .DejZXCvvhJILPbs9Q8ht {\n\tpadding: 5px;\n}\n\n[data-simple="true"] { font-size: 140%; }\n[data-long="true"] { font-size: 60%; }\n\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root="true"])::before { content: \'(\'; opacity: 0.4; font-weight: bold; margin: 2px; }\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root="true"])::after { content: \')\'; opacity: 0.4; font-weight: bold; margin: 2px; }\n.ApHDJFJGYUaGTgzMeIKZ:not([data-is-root="true"]) .mLz637Atn0jZXey6Rx4v:not(:last-child)::after { content: \',\'; }\n\n.DejZXCvvhJILPbs9Q8ht {\n\tcursor: default;\n\tpadding: 0px 4px;\n\tmargin-left: -2px;\n\tmargin-right: -2px;\n}\n\n.CT4uGhwl8sY0LwT3p39g .DejZXCvvhJILPbs9Q8ht {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\tbox-sizing: content-box;\n\tmin-width: 0.5em;\n\ttext-align: center;\n\tborder-radius: 4px;\n}\n.CT4uGhwl8sY0LwT3p39g .DejZXCvvhJILPbs9Q8ht:hover {\n\tbackground-color: white !important;\n\tcolor: var(--hover-selection) !important;\n\tborder-radius: 4px !important;\n}\n\n.DejZXCvvhJILPbs9Q8ht * {\n\tpointer-events: none;\n}\n\n.GliE4Ybwli9X6TNTjD1_ {\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 10px;\n  padding: 2px;\n  opacity: 0.65;\n}\n\n.GliE4Ybwli9X6TNTjD1_:hover {\n  cursor: pointer;\n  color: var(--hover-selection) !important;\n  background-color: var(--key-bg-hover);\n  border-radius: 5px 0;\n  opacity: 1;\n}\n',""]),a.locals={key:"CoLZlKR1WcMrFd9XhDMC",selectable:"CT4uGhwl8sY0LwT3p39g",missingValue:"UNzQquWsoIanOpIN0Q9L",missing:"Y5EVt8b0BaXNd9uLxhfh",pulse:"sYr3l9y03JxO_2AP73jr",code:"DejZXCvvhJILPbs9Q8ht","behaviour-binding":"GliE4Ybwli9X6TNTjD1_",keyDefaultTheme:"huQDP3GbTLThbVIP8wFp",encoder:"PpMmKpJfEi37Ldw7AeBT",encoderDirection:"k2EIh8YlFvp9sBuklSxx",params:"ApHDJFJGYUaGTgzMeIKZ",param:"mLz637Atn0jZXey6Rx4v"},t.Z=a},35839:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'\n.O8SEfqE2Ewc3b7c7mY_N {\n  position:absolute;\n  top: -5px;\n  left: 0px;\n  width: 100%;\n  /* border: 1px solid red; */\n  /* padding: 5px; */\n  /* opacity: 0.5; */\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.s9O56LWZBKHctVZ4a6fa {\n  position: relative;\n  width: 37.5px;\n  height: 65px;\n  margin: 0;\n}\n\n.s9O56LWZBKHctVZ4a6fa[data-is-control="true"] {\n  width: 450px;\n  height: 15px;\n}\n\n.NNwZmurJWlIfvb3BWlNX {\n  position: relative;\n  width: 450px;\n  height: 10px;\n}\n.NNwZmurJWlIfvb3BWlNX.wVYVfDVsCKFNjQcGKIVI::after {\n  content: \'\';\n  display: block;\n  position: absolute;\n  top: 50%;\n  transform: translate(0, -50%);\n  width: 450px;\n  height: 4px;\n  background-color: var(--selection);\n}\n.MDfy6RcGBlm8W_ChRhyP[data-extend="1"] { width: calc(37.5px + 1 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="2"] { width: calc(37.5px + 2 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="3"] { width: calc(37.5px + 3 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="4"] { width: calc(37.5px + 4 * 75px); }\n.MDfy6RcGBlm8W_ChRhyP[data-extend="5"] { width: calc(37.5px + 5 * 75px); }\n\n/* .dropTargetHalf {\n  background-color: blue;\n  opacity: 0.25;\n}\n.dropTargetHalf.secondHalf {\n  background-color: red;\n}\n.dropTargetRow {\n  background-color: purple;\n  opacity: 0.25;\n} */\n\n.wVYVfDVsCKFNjQcGKIVI.s9O56LWZBKHctVZ4a6fa:not(.MDfy6RcGBlm8W_ChRhyP):not([data-is-control="true"])::before,\n.wVYVfDVsCKFNjQcGKIVI.MDfy6RcGBlm8W_ChRhyP:not([data-is-control="true"])::after {\n  content: \'\';\n  display: block;\n  height: 65px;\n  width: 4px;\n  border-radius: 4px;\n  background-color: var(--selection);\n}\n\n.AuFB9WiCynP_oONYhOvq .wVYVfDVsCKFNjQcGKIVI:not([data-drop-mode="row"])::before,\n.AuFB9WiCynP_oONYhOvq .wVYVfDVsCKFNjQcGKIVI:not([data-drop-mode="row"])::after {\n   visibility: hidden;\n }\n\n.s9O56LWZBKHctVZ4a6fa:not(.MDfy6RcGBlm8W_ChRhyP):not([data-is-control="true"])::before {\n  transform: translate(-50%, 0);\n}\n.MDfy6RcGBlm8W_ChRhyP:not([data-is-control="true"])::after {\n  position: absolute;\n  left: 32.5px;\n  transform: translate(50%, 0);\n}\n',""]),a.locals={dropTargets:"O8SEfqE2Ewc3b7c7mY_N",dropTargetHalf:"s9O56LWZBKHctVZ4a6fa",dropTargetRow:"NNwZmurJWlIfvb3BWlNX",droppable:"wVYVfDVsCKFNjQcGKIVI",secondHalf:"MDfy6RcGBlm8W_ChRhyP",dropRowOnly:"AuFB9WiCynP_oONYhOvq"},t.Z=a},96201:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".kc8Au327pmIjKO7auLXT {\n  padding-bottom: 60px;\n}\n\n.B8FpRtVdxbvJjwZoVNB4 {\n  display: flex;\n  position: fixed;\n  width: 180px;\n  flex-direction: column;\n  padding: 10px;\n  gap: 10px;\n}\n\n.Us3Ihf0AoVbZvDulP74Q {\n  width: 550px;\n  margin: 10px auto 40px;\n}\n.OVI4IkVsVzyk0eIAn9NX {\n  display: flex;\n  position: relative;\n  justify-content: space-between;\n  border-bottom: 2px solid var(--key-bg-base);\n  margin: 5px 0;\n}\n.OVI4IkVsVzyk0eIAn9NX h5 {\n  margin: 0;\n}\n.QNlSO_GSGhRfUFRE_v8E {\n  cursor: pointer;\n  padding: 5px;\n  opacity: 0.6;\n}\n.QNlSO_GSGhRfUFRE_v8E:hover {\n  opacity: 1;\n}\n.DvzBwGDH7HsnnIbqaeHi {\n  color: var(--delete);\n}\n\n.mwhR_W7iqHq803xNBV1H {\n  text-align: center;\n}\n.mwhR_W7iqHq803xNBV1H > * {\n  margin: 5px;\n}\n\n.TBgT7nB7JSSjnTpMQeXp {\n  position: relative;\n  width: 450px;\n  /* border: 1px solid lightgray; */\n  margin: 0 auto;\n  padding: 5px;\n\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.TBgT7nB7JSSjnTpMQeXp > * {\n  margin: 5px;\n  width: 65px;\n  height: 65px;\n}\n\n.YMJbsLvnEGObUy4Y_i6w {\n  width: 100%;\n  height: 30px;\n  box-sizing: border-box;\n}\n.YMJbsLvnEGObUy4Y_i6w:hover {\n  background-color: var(--hover-selection);\n  color: var(--key-color-hover);\n}\n.YMJbsLvnEGObUy4Y_i6w > :first-child {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.TBgT7nB7JSSjnTpMQeXp [draggable] {\n  cursor: grab;\n}\n\n.I5drc4dA5Kpshp3PPle1 {\n  visibility: hidden;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  font-size: 80%;\n\n  color: var(--key-color-hover);\n}\n.I5drc4dA5Kpshp3PPle1 > * {\n  margin: 2px;\n  opacity: 0.5;\n  cursor: pointer;\n}\n.TBgT7nB7JSSjnTpMQeXp :hover .I5drc4dA5Kpshp3PPle1 {\n  visibility: visible;\n  z-index: 10;\n}\n\n.I5drc4dA5Kpshp3PPle1 :hover {\n  opacity: 1;\n}\n\n\n.iD9DsKMZZ1dQxr04488w {\n  margin: 10px 0;\n  display: flex;\n}\n\n.iD9DsKMZZ1dQxr04488w label {\n  display: inline-block;\n  width: 120px;\n  text-align: right;\n  margin-right: 10px;\n}\n\n.quGO7XFPrHoYiqu22mwg {\n  font-size: 80%;\n}",""]),a.locals={main:"kc8Au327pmIjKO7auLXT",sidebar:"B8FpRtVdxbvJjwZoVNB4",macro:"Us3Ihf0AoVbZvDulP74Q",heading:"OVI4IkVsVzyk0eIAn9NX",action:"QNlSO_GSGhRfUFRE_v8E",remove:"DvzBwGDH7HsnnIbqaeHi",macroActions:"mwhR_W7iqHq803xNBV1H",macroBindings:"TBgT7nB7JSSjnTpMQeXp",controlBinding:"YMJbsLvnEGObUy4Y_i6w",actions:"I5drc4dA5Kpshp3PPle1",field:"iD9DsKMZZ1dQxr04488w",betaDisclaimer:"quGO7XFPrHoYiqu22mwg"},t.Z=a},87995:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,'.D0BH39_6wwiclW8aKuoi {\n  display: inline-flex;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.D0BH39_6wwiclW8aKuoi li {\n  cursor: pointer;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 4px;\n  font-variant: small-caps;\n}\n.D0BH39_6wwiclW8aKuoi li.xwo6V7AWCmy8CDvuTwRg {\n  background-color: var(--selection);\n  color: white;\n  cursor: default;\n}\n\n.dq40zXJZyr_8iRvyWdV0 {\n  position: absolute;\n  z-index: 2;\n}\n\n.dq40zXJZyr_8iRvyWdV0 ul {\n  display: inline-block;\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n.dq40zXJZyr_8iRvyWdV0 li {\n\tcursor: pointer;\n\tbackground-color: rgba(201, 201, 201, 0.5);\n\tcolor: darkgray;\n\tborder-radius: 15px;\n  height: 30px;\n\tpadding: 0px;\n\tmargin: 4px 2px;\n\n}\n.dq40zXJZyr_8iRvyWdV0 li:hover {\n  background-color: rgba(60, 179, 113, 0.85);\n  color: white;\n}\n.dq40zXJZyr_8iRvyWdV0 li.ZNpW65w__hK9xCl5bCbB {\n\tbackground-color: rgb(60, 179, 113);\n\tcolor: white;\n}\n\n.dq40zXJZyr_8iRvyWdV0 li * {\n  display: inline-block;\n}\n.dq40zXJZyr_8iRvyWdV0 li .osM0ISkQR9ZSidHezeWQ {\n  overflow: auto;\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n}\n.dq40zXJZyr_8iRvyWdV0 li .dQkF5zagCz_YllJ7VuIZ {\n  overflow: hidden;\n  width: 0;\n  height: 30px;\n  line-height: 30px;\n  padding: 0;\n  font-variant: small-caps;\n}\n\n.dq40zXJZyr_8iRvyWdV0:hover li .dQkF5zagCz_YllJ7VuIZ,\n.dq40zXJZyr_8iRvyWdV0[data-renaming="true"] li .dQkF5zagCz_YllJ7VuIZ {\n  transition: .15s ease-in;\n  width: 120px;\n  padding: 0 0 0 10px;\n}\n\n.dq40zXJZyr_8iRvyWdV0 button {\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  padding: 0;\n  text-align: center;\n  border-radius: 15px;\n}\n\n.dq40zXJZyr_8iRvyWdV0 input.dQkF5zagCz_YllJ7VuIZ {\n  vertical-align: top;\n  width: 100px;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: white;\n}\n\n.dq40zXJZyr_8iRvyWdV0 .vbJnpbh1V1tFgTjhZNiC {\n  cursor: pointer;\n  visibility: hidden;\n  float: right;\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n}\n.dq40zXJZyr_8iRvyWdV0 li:hover .vbJnpbh1V1tFgTjhZNiC {\n  visibility: visible;\n}\n\n.dq40zXJZyr_8iRvyWdV0 li.ZNpW65w__hK9xCl5bCbB .dQkF5zagCz_YllJ7VuIZ {\n  cursor: text;\n}\n\n.nVbskEoaGxWf96qEgtxz {\n  position: absolute;\n}\n.nVbskEoaGxWf96qEgtxz > * {\n  width: 100% !important;\n  height: 100% !important;\n}\n',""]),a.locals={editorModeTabs:"D0BH39_6wwiclW8aKuoi",activeEditTab:"xwo6V7AWCmy8CDvuTwRg","layer-selector":"dq40zXJZyr_8iRvyWdV0",active:"ZNpW65w__hK9xCl5bCbB",index:"osM0ISkQR9ZSidHezeWQ",name:"dQkF5zagCz_YllJ7VuIZ",delete:"vbJnpbh1V1tFgTjhZNiC",placer:"nVbskEoaGxWf96qEgtxz"},t.Z=a},33971:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".QkewNzGagIbndi3rJpKm {\n  border: none;\n  cursor: pointer;\n  color: white;\n  background: #248;\n  border-radius: 100%;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  vertical-align: middle;\n}\n.QkewNzGagIbndi3rJpKm:hover {\n  background: #48F;\n}",""]),a.locals={help:"QkewNzGagIbndi3rJpKm"},t.Z=a},80047:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"\n.yyHfal9pM4DzShMl4LAY {\n  display: inline-flex;\n  height: 30px;\n  border-radius: 5px;\n\n  font-size: 70%;\n  padding: 0 4px;\n\n  background-color: royalblue;\n  color: white;\n  text-decoration: none;\n}\n\n.yyHfal9pM4DzShMl4LAY code {\n  font-family: monospace;\n}\n\n.QvI5wo7_u6OeAc12ib0W {\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n  font-size: 200%;\n  text-align: center;\n}\n\n.eUw5NZqoPPF3BcyYDpJx {\n  /* color: var(--selection); */\n}\n\n.XjY4lN_lY3nSgHcw67bX {\n  /* color: brown; */\n}\n\n.Ap_OwCtp3j1Q29Phpw3V {\n  color: gold;\n  animation: WjBuPfls4V41d2sjbNFU 1s linear alternate infinite;\n}\n\n@keyframes WjBuPfls4V41d2sjbNFU {\n  from { opacity: 0.5; }\n  to { opacity: 1; }\n}\n",""]),a.locals={buildDetails:"yyHfal9pM4DzShMl4LAY",buildStatus:"QvI5wo7_u6OeAc12ib0W",buildSuccess:"eUw5NZqoPPF3BcyYDpJx",buildFailed:"XjY4lN_lY3nSgHcw67bX",buildPending:"Ap_OwCtp3j1Q29Phpw3V",pulse:"WjBuPfls4V41d2sjbNFU"},t.Z=a},47881:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".sP2kDRoTZElZUTNHq033 {\n  width: 300px;\n\tpadding: 10px;\n\tborder-radius: 4px;\n\tbackground: radial-gradient(\n\t\trgba(var(--bg-rgb), 1) 20%,\n\t\trgba(var(--bg-rgb), .6) 100%\n\t);\n}\n.sP2kDRoTZElZUTNHq033 input {\n\tdisplay: block;\n\twidth: 100%;\n\theight: 30px;\n\tline-height: 30px;\n\n\tfont-size: 120%;\n\tmargin: 0;\n\tpadding: 4px;\n\tborder: none;\n\tborder-radius: 4px;\n  box-sizing: border-box;\n}\nul.inAS9Qunkf3g5K3xz6o6 {\n\tposition: relative;\n\tfont-family: monospace;\n\tlist-style-position: inside;\n\tlist-style-type: none;\n\tmax-height: 300px;\n\toverflow: scroll;\n\tpadding: 4px;\n  margin: 4px 0;\n\tbackground: rgba(0, 0, 0, 0.75);\n\tborder-radius: 4px;\n}\n.inAS9Qunkf3g5K3xz6o6 li {\n\tcursor: pointer;\n\tcolor: white;\n\tpadding: 5px;\n}\n.inAS9Qunkf3g5K3xz6o6 li:hover, .inAS9Qunkf3g5K3xz6o6 li.BL7Cxrn_efblQXY3W1Sw {\n\tbackground: white;\n\tcolor: black;\n}\n.inAS9Qunkf3g5K3xz6o6 li b { color: red; }\n.inAS9Qunkf3g5K3xz6o6 li .uld0XaeoQaQJJwp0LT0X {\n\tfont-style: italic;\n\tfont-size: 90%;\n\tmargin: 0;\n\tcolor: gray;\n}\n\n.pqiZQublKXvmnT_ESDxQ {\n  font-size: 10px;\n}\n\n.pqiZQublKXvmnT_ESDxQ a {\n  color: var(--selection);\n  border-bottom: 1px dotted var(--selection);\n  cursor: pointer;\n}\n\n.ECUs4g2j1rekP4xxgQDr {\n  position: relative;\n}\n.ECUs4g2j1rekP4xxgQDr input {\n  padding: 4px 4px 4px 30px;\n}\n\n.xDUAgQZeBp0TZSOqCwHm {\n  position: absolute;\n\ttop: 50%;\n\tleft: 10px;\n\ttransform: translateY(-50%);\n\tpointer-events: none;\n}\n.eY5zRl49sESLjXmizMEP {\n  position: absolute;\n\ttop: 50%;\n\tright: 10px;\n\ttransform: translateY(-50%);\n\tcursor: pointer;\n}",""]),a.locals={dialog:"sP2kDRoTZElZUTNHq033",results:"inAS9Qunkf3g5K3xz6o6",highlighted:"BL7Cxrn_efblQXY3W1Sw",description:"uld0XaeoQaQJJwp0LT0X","choices-counter":"pqiZQublKXvmnT_ESDxQ",searchWrapper:"ECUs4g2j1rekP4xxgQDr",searchIcon:"xDUAgQZeBp0TZSOqCwHm",clearSearchIcon:"eY5zRl49sESLjXmizMEP"},t.Z=a},2746:function(e,t,r){"use strict";var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,"\n._vWNIXMkemQax9rkCJQh {\n  display: inline-block;\n  position: absolute;\n  z-index: 100;\n  bottom: 5px;\n  left: 5px;\n}\n\n._vWNIXMkemQax9rkCJQh label {\n  font-size: 75%;\n  font-style: italic;\n  display: block;\n  padding: 0 10px;\n}\n\n.qiC2NrujE4ebqmHjzq0_ {\n  display: inline-block;\n  font-size: 110%;\n  font-style: italic;\n  background-color: var(--code-bg);\n  border-radius: 20px;\n  padding: 5px 10px;\n  text-decoration: none;\n\n  color: royalblue;\n}\n.qiC2NrujE4ebqmHjzq0_:hover {\n  background-color: royalblue;\n  color: white;\n}",""]),a.locals={wrapper:"_vWNIXMkemQax9rkCJQh",githubLink:"qiC2NrujE4ebqmHjzq0_"},t.Z=a},46700:function(e,t,r){var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":95606,"./ss.js":95606,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=46700}},function(e){e.O(0,[216],(function(){return 57731,e(e.s=57731)})),e.O()}]);